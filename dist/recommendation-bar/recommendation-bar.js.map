{"version":3,"file":"recommendation-bar.js","sources":["../../src/blocks/recommendation-bar/recommendation-bar.ts"],"sourcesContent":["import { cleanUpBlock } from \"Utils/cleanUpBlock\";\nimport { html, render } from \"lit\";\nimport \"./recommendation-bar.scss\";\n\ninterface RecommendationBarTemplateArgs {\n  headline?: string;\n  text?: string;\n  url?: string;\n  rating: number;\n}\n\nconst recommendationBarTemplate = (args: RecommendationBarTemplateArgs) => {\n  const generateStars = (rating: number) => {\n    const stars = [];\n    for (let i = 0; i < rating; i++) {\n      stars.push(\n        html`<dva-e-icon icon-id=\"dva-icon-star\" class=\"dva-e-rating-star dva-e-rating-star--full\"></dva-e-icon>`,\n      );\n    }\n    return stars;\n  };\n  return html`\n    <div class=\"dvag-m-recommendation-bar\">\n      <div class=\"dvag-grid\">\n        <div class=\"dvag-grid-row\">\n          <div class=\"dvag-grid-col-1-12 dvag-grid-col-3-7 dvag-grid-col-4-8\">\n            <h3 class=\"dvag-m-recommendation-bar__headline\">${args.headline}</h3>\n            <p class=\"dvag-m-recommendation-bar__text\">${args.text}</p>\n          </div>\n          <div class=\"dvag-m-recommendation-bar__cta-wrapper dvag-grid-col-1-12 dvag-grid-col-3-5 dvag-grid-col-4-4\">\n            <div class=\"dvag-m-recommendation-bar__rating-wrapper\">\n              <dva-m-rating-box class=\"dva-m-rating-box\" rating=\"${args.rating}\" edit-mode=\"false\">\n                <div class=\"dva-m-rating-box__ratingstar-wrapper\">${generateStars(args.rating)}</div>\n              </dva-m-rating-box>\n              <p class=\"dvag-m-recommendation-bar__rating-label\">${args.rating} von 5 Sternen</p>\n            </div>\n            <dvag-e-overlay-toggle\n              class=\"dvag-e-overlay-toggle dva-e-button dva-e-button--rebrush dva-e-button--small dva-e-button--white\"\n              target=\"#recommendationOverlay\"\n              tabindex=\"0\"\n            >\n              <div class=\"dva-e-button__background\"></div>\n              <span class=\"dva-e-button__label\">Jetzt weiterempfehlen</span>\n            </dvag-e-overlay-toggle>\n          </div>\n        </div>\n      </div>\n    </div>\n  `;\n};\n\nexport default function (block: HTMLElement) {\n  const headline = block.children[0].textContent || \"\";\n  const text = block.children[1].textContent || \"\";\n  const url = block.children[2].textContent || \"\";\n  const rating = block.children[3].textContent || \"\";\n  cleanUpBlock(block);\n\n  render(recommendationBarTemplate({ headline, text, url, rating }), block);\n}\n"],"names":["recommendationBarTemplate","args","generateStars","rating","stars","i","html","recommendationBar","block","headline","text","url","cleanUpBlock","render"],"mappings":"4HAWA,MAAMA,EAA6BC,GAAwC,CACnE,MAAAC,EAAiBC,GAAmB,CACxC,MAAMC,EAAQ,CAAA,EACd,QAASC,EAAI,EAAGA,EAAIF,EAAQE,IACpBD,EAAA,KACJE,sGAAA,EAGG,OAAAF,CAAA,EAEF,OAAAE,iNAKqDL,EAAK,QAAQ,mDAClBA,EAAK,IAAI,kOAICA,EAAK,MAAM,yEACVC,EAAcD,EAAK,MAAM,CAAC,+EAE3BA,EAAK,MAAM,iWAe9E,EAEA,SAAAM,EAAyBC,EAAoB,CAC3C,MAAMC,EAAWD,EAAM,SAAS,CAAC,EAAE,aAAe,GAC5CE,EAAOF,EAAM,SAAS,CAAC,EAAE,aAAe,GACxCG,EAAMH,EAAM,SAAS,CAAC,EAAE,aAAe,GACvCL,EAASK,EAAM,SAAS,CAAC,EAAE,aAAe,GAChDI,EAAaJ,CAAK,EAEXK,EAAAb,EAA0B,CAAE,SAAAS,EAAU,KAAAC,EAAM,IAAAC,EAAK,OAAAR,CAAO,CAAC,EAAGK,CAAK,CAC1E"}