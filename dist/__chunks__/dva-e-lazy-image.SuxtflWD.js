import{g as x,c as T,o as m,i as $,f as z,b as w,d as p,n as Q,e as E,j as k,k as V,l as q,a as g,r as _}from"./index.module.MnsyUmpB.js";import{x as N,j as C}from"./lit-element.XkUWx5ik.js";import{o as u}from"./if-defined.JfW-uEqn.js";var v={},y,L,R;Object.defineProperty(v,"__esModule",{value:!0});const A=(t,e)=>t.findIndex(a=>a===e)!==-1;R=v.hasElement=A,v.isFilledArray=t=>t!==void 0&&t.length>0,L=v.mergeArraysBy=(t,e,a)=>t.filter(i=>a(i,e)).concat(e),y=v.pushIfNew=(t,e)=>(A(t,e)||t.push(e),t),v.removeItem=(t,e)=>t.filter(a=>a!==e);var h={},D,P;Object.defineProperty(h,"__esModule",{value:!0});const O=t=>t.replace(/ +(?= )/g,""),I=t=>t.replace(/\r?\n|\r/g,"");h.getCleanString=t=>I(O(t)),h.getWordCount=t=>t.split(" ").length,P=h.removeAllBS=t=>t.replace(/\s/g,""),h.removeAllNL=I,h.removeMultiBS=O,h.toCamelCase=function(t){return t.toLowerCase().replace(/(-+|\s+)[a-z]/g,e=>e.toUpperCase()).replace(/(-|\s)+/g,"")},D=h.toKebabCase=function(t){return t.replace(/[A-Z]/g,e=>`-${e.toLocaleLowerCase()}`)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function f(t,e,a,i){return new(a||(a=Promise))(function(s,n){function o(d){try{r(i.next(d))}catch(c){n(c)}}function l(d){try{r(i.throw(d))}catch(c){n(c)}}function r(d){var c;d.done?s(d.value):(c=d.value,c instanceof a?c:new a(function(U){U(c)})).then(o,l)}r((i=i.apply(t,e||[])).next())})}const F=Symbol("decorated-props"),B=["type","required","defaultValue","reactions","reactOnInit","attributeName"],H={required:!1,reactions:null,reactOnInit:!1};function pe(t){return function(e,a){e.decoratedUiEls===void 0&&(e.decoratedUiEls=new Map),e.decoratedUiEls.set(a,{selector:t,justOne:!1,events:new Set})}}function ge(t,e,a){return function(i,s){i.decoratedUiEls===void 0&&(i.decoratedUiEls=new Map);const n=i.decoratedUiEls.get(t);n!==void 0||t!=="window"&&t!=="this"?(n.events.add({eventName:e,handler:s,options:a}),i.decoratedUiEls.set(t,n)):i.decoratedUiEls.set(t.toString(),{selector:t,justOne:!0,events:new Set([{eventName:e,handler:s,options:a}])})}}function W(t){return function(e){return class extends e{get activeOnMQs(){const a=this.getAttribute("active-on-mq")||!1;if(!a)return!1;let i=[];return P(a).split(",").forEach(s=>{if(s.length===1)i=y(i,`MQ${s}`);else if(s.length>1){const n=s.split("-"),o=parseInt(n[0],10),l=parseInt(n[1],10);for(let r=o;r<=l;r++)i=y(i,`MQ${r.toString()}`)}}),i}get currentMQ(){return x(t)}get activeOnCurrentMQ(){return this.activeOnMQs&&R(this.activeOnMQs||[],this.currentMQ)||!this.activeOnMQs}handleMqChange(a){this.activeOnMQs&&(!this.state.initialized&&this.activeOnCurrentMQ?this.mqBasedConnect():this.state.initialized&&!this.activeOnCurrentMQ&&this.disconnectComponent())}mqBasedConnect(){this.activeOnCurrentMQ&&super.connectedCallback()}connectedCallback(){T.getInstance(t),m(window,$,this.handleMqChange,this),this.mqBasedConnect()}}}}class G extends HTMLElement{constructor({ui:e={},events:a=[],initialStates:i={},reactions:s={},props:n={},useShadowDOM:o=!1,preserveChildren:l=!1,asyncRendering:r=!1}={}){super(),this.uiDefinitions={},this.ui={},this.events=[],this.reactions={initialized:["onComponentInitialized"]},this._state={},this._initialStates={},this.eventIdMap=new WeakMap,this.eventBindingMap={},this.initialStates={initialized:!1},this.useShadowDOM=o,this.preserveChildren=l,this.asyncRendering=r,this.useShadowDOM&&this.attachShadow({mode:"open"}),Object.assign(this.uiDefinitions,e),Object.assign(this.initialStates,i),Object.assign(this.reactions,s),this.addReactions(s),this.mergeEvents(a),this.props=this.normalizeProps(Object.assign(Object.assign({},this[F]||null),n))}get asyncRenderingEnabled(){return this._shouldRenderAsync||this.asyncRendering}connectedCallback(){this.setupComponent()}beforeComponentDisconnects(){}disconnectComponent(){this.beforeComponentDisconnects(),this.destroyComponentProps(),this.destroyComponent(),this.setState({initialized:!1})}renderingTemplate(){return null}renderComponent(){const e=this.renderingTemplate();e!==null&&this.render(e)}renderAsync(){return f(this,void 0,void 0,function*(){console.warn("please override renderAsync-method")})}render(e){this.preserveChildren||(this.getUiRoot().innerHTML=""),e instanceof HTMLTemplateElement?this.getUiRoot().appendChild(e.content.cloneNode(!0)):this.useShadowDOM?this.shadowRoot.innerHTML=e:this.insertAdjacentHTML("beforeend",e)}destroyComponent(){console.warn("please override destroyComponent-method")}afterComponentRender(){}onComponentInitialized(){this.dispatchEvent(new CustomEvent("kl-component-initialized",{bubbles:!1}))}waitForInitialization(){return f(this,void 0,void 0,function*(){if(!this.state.initialized)return yield q(this,"kl-component-initialized")})}setupComponent(){return f(this,void 0,void 0,function*(){this.asyncRenderingEnabled?yield this.renderAsync():this.renderComponent(),this.setupComponentProps(),this.afterComponentRender(),this.checkForMissingAttributes(),this.setState({initialized:!0})})}setupComponentProps(){this.enableDecoratedProperties(),this.generateUI(),this.generateEvents(),this.initializeProps()}destroyComponentProps(){this.destroyDecoratedProperties(),this.removeEvents(),this.ui={}}generateUI(){const e=this.getUiRoot();Object.keys(this.uiDefinitions).forEach(a=>{const i=this.uiDefinitions[a].trim();if(i.endsWith(":-one")){const s=i.replace(/:-one/g,"").trim();this.ui[a]=z(e,s)}else this.ui[a]=w(e,i)})}generateEvents(){this.events.forEach(e=>{if(typeof this[e.handler]=="function"){const a=this.getEventTargets(e.target);m(a,e.event,this[e.handler],this,e.options)}})}removeEvents(){this.events.forEach(e=>{if(typeof this[e.handler]=="function"){const a=this.getEventTargets(e.target);p(a,e.event,this[e.handler],this,e.options)}})}updateUI(){this.destroyDecoratedProperties(),this.enableDecoratedProperties(),this.ui={},this.generateUI()}updateEvents(){this.events.forEach(e=>{if(typeof this[e.handler]=="function"){const a=this.getEventTargets(e.target);p(a,e.event,this[e.handler],this,e.options),m(a,e.event,this[e.handler],this,e.options)}})}enableDecoratedProperties(){this.decoratedUiEls!==void 0&&this.decoratedUiEls.forEach((e,a)=>{if(e.selector==="window")e.events.forEach(i=>{m(window,i.eventName,this[i.handler],this,i.options)});else if(e.selector==="this")e.events.forEach(i=>{m(this,i.eventName,this[i.handler],this,i.options)});else{const i=e.justOne?z(this.getUiRoot(),e.selector):w(this.getUiRoot(),e.selector);this[a]=i,e.events.forEach(s=>{m(this[a],s.eventName,this[s.handler],this,s.options)})}})}destroyDecoratedProperties(){this.decoratedUiEls!==void 0&&this.decoratedUiEls.forEach((e,a)=>{e.selector==="window"?e.events.forEach(i=>{p(window,i.eventName,this[i.handler],this,i.options)}):e.selector==="this"?e.events.forEach(i=>{p(this,i.eventName,this[i.handler],this,i.options)}):(this[a]!=null&&e.events.forEach(s=>{p(this[a],s.eventName,this[s.handler],this,s.options)}),this[a]=void 0)})}initializeProps(){this.addDefaultValueAndType(this.props),this.addPropAccessors(this.props),this.addPropsReactions(this.props)}normalizeProps(e){const a={};return Object.entries(e).forEach(([i,s])=>{const n=typeof s=="object"&&s!==null&&Object.keys(s).length&&Object.keys(s).every(o=>B.includes(o))?s:{defaultValue:s};n.attributeName=n.attributeName||D(i),a[i]=Object.assign(Object.assign({},H),n)}),a}addDefaultValueAndType(e){Object.entries(e).forEach(([a,i])=>{i.defaultValue=i.hasOwnProperty("defaultValue")?i.defaultValue:this[a],i.type=i.type||i.defaultValue!==null&&i.defaultValue!==void 0?typeof i.defaultValue:"string"})}addPropAccessors(e){for(const[a,i]of Object.entries(e))Object.defineProperty(this,a,{enumerable:!1,configurable:!0,set(s){s==null?this.removeAttribute(i.attributeName):i.type==="boolean"?s?this.setAttribute(i.attributeName,""):this.removeAttribute(i.attributeName):i.type==="object"?this.setAttribute(i.attributeName,JSON.stringify(s)):this.setAttribute(i.attributeName,String(s))},get(){const s=this.getAttribute(i.attributeName);return s===null&&i.defaultValue!==void 0?i.defaultValue:this.castFromAttribute(s,i.type)}})}addPropsReactions(e){const a=Object.entries(e).filter(([,n])=>Array.isArray(n.reactions)&&n.reactions.length);if(a.length===0)return;const i=n=>{const[o,l]=a.find(([,r])=>r.attributeName===n);l.reactions.forEach(r=>{typeof r=="function"?r.call(this,this[o]):typeof r=="string"&&r in this&&typeof this[r]=="function"?this[r](this[o]):console.error("unknown given reaction callback: ",r)})},s={attributes:!0,attributeFilter:a.map(([,n])=>n.attributeName),attributeOldValue:!0};new MutationObserver(n=>{for(const o of n){const l=o.oldValue;if(this.getAttribute(o.attributeName)===l)return;i(o.attributeName)}}).observe(this,s),a.filter(([,n])=>n.reactOnInit).forEach(([,n])=>i(n.attributeName))}checkForMissingAttributes(){const e=[];for(const a of Object.values(this.props))a.required&&!this.hasAttribute(a.attributeName)&&e.push(a.attributeName);e.length&&console.log(`${this.tagName.toLowerCase()} is missing required attribute(s): ${e.join(", ")}`)}castFromAttribute(e,a="string"){switch(a){case"boolean":return e!==null;case"number":return parseFloat(String(e));case"object":return JSON.parse(String(e));default:return e}}get state(){return Q(this._state||{})}set state(e){throw new Error('The state should only be modified via the "setState" method.')}set initialStates(e){this._initialStates=e,this._state=e}get initialStates(){return this._initialStates||{}}setState(e,{merge:a=!0,silent:i=!1}={}){const s=this.state;if(this._state=Object.assign({},a?s:{},e),i||E(s,this._state))return this;const n=this.state,o=this.reactions||{};return Object.keys(o).forEach(l=>{if(l==="*")this.invokeReaction("*");else if(l in e){const r=k(s,l),d=k(n,l);E(r,d)||this.invokeReaction(l)}}),this}addReactions(e,a){if(typeof e=="object")Object.entries(e).forEach(([i,s])=>this.addReactions(i,s));else{this.reactions=this.reactions||{};const i=V(a),s=this.reactions[e]||[];this.reactions[e]=L(s,i,this.isNewReaction)}return this}isNewReaction(e,a){return!a.some(i=>e===i)}removeReactions(e,a){return typeof e=="object"?(Object.entries(e).forEach(([i,s])=>this.removeReactions(i,s)),this):(this.reactions.hasOwnProperty(e)?a?(a.forEach(i=>{this.reactions[e]=this.reactions[e].filter(s=>s!==i)}),this.reactions[e].length===0&&delete this.reactions[e]):delete this.reactions[e]:console.warn("no such prop found "),this)}invokeReaction(e){((this.reactions||{})[e]||new Set).forEach(a=>{typeof a=="function"?a(this.state):typeof a=="string"&&a in this&&typeof this[a]=="function"?this[a](this.state):console.error("given reaction callback can't be found: ",a)})}mergeEvents(e){this.events=this.events.filter(a=>this.isNewEvent(a,e)).concat(e)}isNewEvent(e,a){return!a.some(i=>i.event===e.event&&i.target===e.target)}getUiRoot(){return this.shadowRoot?this.shadowRoot:this}getEventTargets(e){let a=null;return a=e==="this"?this:e==="window"?window:this.ui[e],a}}class K{constructor(){this.componentMap=new WeakMap,this.intersectionObserver=new IntersectionObserver(e=>this.handleIntersectionChange(e))}subscribe(e,a){this.componentMap.set(e,a),this.intersectionObserver.observe(e)}unsubscribe(e){this.intersectionObserver.unobserve(e),this.componentMap.delete(e)}handleIntersectionChange(e){e.forEach(a=>{const i=a.target;if(!a.isIntersecting||!this.componentMap.has(i))return;const s=this.componentMap.get(i);this.unsubscribe(i),s()})}}const J=new K,ve="dva-state-active",S="dva-state-loading",Z="dva-state-loaded",M="dva-state-hidden",X="dva-state-initialized",Y="dva-state-invp",ee=[{name:"MQ5",query:"(min-width: 1280px)",min:1280,max:Number.MAX_SAFE_INTEGER||1e4,colCount:4},{name:"MQ4",query:"(min-width: 1024px)",min:1024,max:1279,colCount:4},{name:"MQ3",query:"(min-width: 760px)",min:760,max:1023,colCount:4},{name:"MQ2",query:"(min-width: 476px)",min:476,max:759,colCount:6},{name:"MQ1",query:"(min-width: 0px)",min:0,max:476,colCount:12}],te=':host{display:block}.dva-e-lazy-image__mask{position:relative;overflow:hidden;width:100%;height:0;pointer-events:none}.dva-e-lazy-image__mask--16-9{padding-bottom:56.25%}.dva-e-lazy-image__mask--21-9{padding-bottom:42.8571429%}.dva-e-lazy-image__mask--9-16{padding-bottom:177.78%}.dva-e-lazy-image__mask--4-3{padding-bottom:75%}.dva-e-lazy-image__mask--2-3{padding-bottom:150%}.dva-e-lazy-image__mask--1-1{padding-bottom:100%}.dva-e-lazy-image__mask--2-1{padding-bottom:50%}.dva-e-lazy-image__wrapper{opacity:1;line-height:0;transition:opacity .3s ease-in-out}.dva-e-lazy-image__wrapper.dva-state-hidden{display:none}.dva-e-lazy-image__wrapper.dva-state-loading{position:relative;min-height:200px;opacity:0}.dva-e-lazy-image__mask .dva-e-lazy-image__wrapper.dva-state-loading{position:initial;min-height:initial}.dva-e-lazy-image__img{width:100%}.dva-e-lazy-image__wrapper--has-overwidth .dva-e-lazy-image__img{width:inherit;height:100%;object-fit:cover;object-position:50% 50%}.dva-e-lazy-image__no-ratio,.dva-e-lazy-image__no-ratio .dva-e-lazy-image__wrapper{width:inherit;height:inherit}.dva-e-lazy-image__no-ratio .dva-e-lazy-image__img{width:inherit;max-width:100%;height:inherit}.dva-e-lazy-image__cover{position:absolute;top:0;left:0;width:100%;height:100%}.dva-e-lazy-image__cover .dva-e-lazy-image__img{object-fit:cover}.dva-e-lazy-image__contain .dva-e-lazy-image__img{object-fit:contain;object-position:100% 100%}.dva-e-lazy-image__mask--21-9 .dva-e-lazy-image__wrapper{position:relative}.dva-e-lazy-image__mask--21-9 .dva-e-lazy-image__wrapper:before{content:"";display:block;width:100%;padding-top:42.8571428571%;pointer-events:none}.dva-e-lazy-image__mask--21-9 .dva-e-lazy-image__wrapper>.dva-e-lazy-image__img{position:absolute;top:0;left:0}.dva-e-lazy-image__mask--16-9 .dva-e-lazy-image__wrapper{position:relative}.dva-e-lazy-image__mask--16-9 .dva-e-lazy-image__wrapper:before{content:"";display:block;width:100%;padding-top:56.25%;pointer-events:none}.dva-e-lazy-image__mask--16-9 .dva-e-lazy-image__wrapper>.dva-e-lazy-image__img{position:absolute;top:0;left:0}.dva-e-lazy-image__mask--9-16 .dva-e-lazy-image__wrapper{position:relative}.dva-e-lazy-image__mask--9-16 .dva-e-lazy-image__wrapper:before{content:"";display:block;width:100%;padding-top:177.7777777778%;pointer-events:none}.dva-e-lazy-image__mask--9-16 .dva-e-lazy-image__wrapper>.dva-e-lazy-image__img{position:absolute;top:0;left:0}.dva-e-lazy-image__mask--4-3 .dva-e-lazy-image__wrapper{position:relative}.dva-e-lazy-image__mask--4-3 .dva-e-lazy-image__wrapper:before{content:"";display:block;width:100%;padding-top:75%;pointer-events:none}.dva-e-lazy-image__mask--4-3 .dva-e-lazy-image__wrapper>.dva-e-lazy-image__img{position:absolute;top:0;left:0}.dva-e-lazy-image__mask--2-3 .dva-e-lazy-image__wrapper{position:relative}.dva-e-lazy-image__mask--2-3 .dva-e-lazy-image__wrapper:before{content:"";display:block;width:100%;padding-top:150%;pointer-events:none}.dva-e-lazy-image__mask--2-3 .dva-e-lazy-image__wrapper>.dva-e-lazy-image__img{position:absolute;top:0;left:0}.dva-e-lazy-image__mask--2-1 .dva-e-lazy-image__wrapper{position:relative}.dva-e-lazy-image__mask--2-1 .dva-e-lazy-image__wrapper:before{content:"";display:block;width:100%;padding-top:50%;pointer-events:none}.dva-e-lazy-image__mask--2-1 .dva-e-lazy-image__wrapper>.dva-e-lazy-image__img{position:absolute;top:0;left:0}.dva-e-lazy-image__mask--1-1 .dva-e-lazy-image__wrapper{position:relative}.dva-e-lazy-image__mask--1-1 .dva-e-lazy-image__wrapper:before{content:"";display:block;width:100%;padding-top:100%;pointer-events:none}.dva-e-lazy-image__mask--1-1 .dva-e-lazy-image__wrapper>.dva-e-lazy-image__img{position:absolute;top:0;left:0}.dva-e-lazy-image__mask .dva-e-lazy-image__wrapper{position:absolute;width:100%;height:auto}.dva-e-lazy-image--circle{overflow:hidden;width:100%;padding:4px;border:1px solid #c8aa22;border-radius:100%;background:#fff}.dva-e-lazy-image--circle .dva-e-lazy-image__mask{display:block;overflow:hidden;width:100%;border-radius:100%}',ie=t=>t===void 0?"":` ${t}`,ae=t=>t==="cover"?"cover":t==="contain"?"contain":"fill",se=t=>t==="contain"?"100% 100%":"50% 50%",ne=t=>t==="circle"?"dva-e-lazy-image--circle":"",re=t=>t==="21:9"?"dva-e-lazy-image__mask dva-e-lazy-image__mask--21-9":t==="16:9"?"dva-e-lazy-image__mask dva-e-lazy-image__mask--16-9":t==="4:3"?"dva-e-lazy-image__mask dva-e-lazy-image__mask--4-3":t==="1:1"?"dva-e-lazy-image__mask dva-e-lazy-image__mask--1-1":t==="2:3"?"dva-e-lazy-image__mask dva-e-lazy-image__mask--2-3":t==="9:16"?"dva-e-lazy-image__mask dva-e-lazy-image__mask--9-16":t==="cover"?"dva-e-lazy-image__no-ratio dva-e-lazy-image__cover":t==="contain"?"dva-e-lazy-image__no-ratio dva-e-lazy-image__contain":"dva-e-lazy-image__no-ratio",j=t=>N`
    <style>
      ${te}
    </style>
    <!--<div class="${ne(t.wrapper)}">-->
    <div class="${re(t.aspectRatio)}">
      <div class="dva-e-lazy-image__wrapper dva-js-lazy-image__wrapper">
        <img
          draggable="false"
          class="dva-js-lazy-image__img dva-e-lazy-image__img"
          src="${t.fallbackImg}"
          srcset="${t.srcset}"
          alt="${t.alt}"
          sizes="${t.sizes}"
          data-object-fit=${ae(t.aspectRatio)}
          data-object-position=${se(t.aspectRatio)}
        />
      </div>
    </div>
    <!--</div>-->
  `,ue=t=>N`
    <dva-e-lazy-image 
      class="dva-e-lazy-image dva-js-lazy-image${ie(t.cssClasses)}"
      src="${t.src}"
      alt=${u(t.alt)}
      srcset="${u(t.srcset)}"
      sizes="${u(t.sizes)}"
      aspect-ratio="${u(t.aspectRatio)}"
      wrapper="${u(t.wrapper)}">
    </dva-e-lazy-image>
  `;var oe=Object.defineProperty,le=Object.getOwnPropertyDescriptor,de=(t,e,a,i)=>{for(var s=i>1?void 0:i?le(e,a):e,n=t.length-1,o;n>=0;n--)(o=t[n])&&(s=(i?o(e,a,s):o(s))||s);return i&&s&&oe(e,a,s),s};let b=class extends G{constructor(){super({ui:{image:".dva-js-lazy-image__img :-one",wrapper:".dva-js-lazy-image__wrapper :-one"},initialStates:{imgLoaded:!1},useShadowDOM:!0})}connectedCallback(){this.initType==="lazy"?J.subscribe(this,()=>super.connectedCallback()):super.connectedCallback()}get DEFAULT_FALLBACK_IMAGE(){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 9'%3E%3C/svg%3E"}get fallbackImg(){return this.getAttribute("fallback-image")||this.DEFAULT_FALLBACK_IMAGE}get imgSrc(){return this.getAttribute("src")||""}get imgSrcSet(){return this.getAttribute("srcset")||""}get imgSizes(){return this.getAttribute("sizes")||""}get imgAlt(){return this.getAttribute("alt")||""}get imgAspectRatio(){return this.getAttribute("aspect-ratio")||""}get imgWrapper(){return this.getAttribute("wrapper")||""}get hasOverWidth(){return this.ui.image.offsetHeight<this.offsetHeight}static get observedAttributes(){return["src","aspect-ratio"]}get initType(){switch(this.getAttribute("init")){case"explicit":return"explicit";default:return"lazy"}}attributeChangedCallback(t,e,a){if(!(e===a||!this.state.initialized))switch(t){case"src":this.setState({imgLoaded:!1}),this.loadImage();break;case"aspect-ratio":this.renderComponent(),this.handleOverwidth();break}}renderComponent(){C(j({alt:this.imgAlt,src:this.DEFAULT_FALLBACK_IMAGE,srcset:"",sizes:this.imgSizes,aspectRatio:this.imgAspectRatio,wrapper:this.imgWrapper,fallbackImg:this.fallbackImg}),this.getUiRoot())}updateComponent(){C(j({alt:this.imgAlt,src:this.imgSrc,srcset:this.imgSrcSet,sizes:this.imgSizes,aspectRatio:this.imgAspectRatio,fallbackImg:this.fallbackImg}),this.getUiRoot())}afterComponentRender(){g(this,X),_(this.ui.wrapper,M),this.initType!=="explicit"&&this.loadImage()}beforeComponentDisconnects(){g(this.ui.wrapper,M)}destroyComponent(){this.setState({imgLoaded:!1})}loadImage(){if(this.state.imgLoaded)return;g(this,Y),g(this.ui.wrapper,S);const t=this.ui.image;this.attachImageEvents(t),this.imgSrc||this.imgSrcSet?(this.imgSrc&&t.setAttribute("src",this.imgSrc),this.imgSrcSet&&t.setAttribute("srcset",this.imgSrcSet)):console.warn("LazyImage: no src/srcset provided for",t)}handleImageLoadingError(){const t=this.ui.image;p(t,"error",this.handleImageLoadingError,this),console.log("src",this.fallbackImg),t.setAttribute("src",this.fallbackImg),t.setAttribute("srcset",""),console.log("lazyImg error:",t)}handleImageLoad(){this.handleOverwidth(),p(this.ui.image,"load",this.handleImageLoad,this),_(this.ui.wrapper,S),g(this,Z),this.dispatchEvent(new CustomEvent("dva-image-loaded",{detail:{target:this}})),this.setState({imgLoaded:!0})}attachImageEvents(t){m(t,"load",this.handleImageLoad,this),m(t,"error",this.handleImageLoadingError,this)}handleOverwidth(){_(this.ui.wrapper,"dva-e-lazy-image__wrapper--has-overwidth"),this.hasOverWidth&&g(this.ui.wrapper,"dva-e-lazy-image__wrapper--has-overwidth")}};b=de([W(ee)],b);customElements.define("dva-e-lazy-image",b);export{ve as A,J as L,pe as N,ge as R,W as S,G as U,ee as m,ue as r};
//# sourceMappingURL=dva-e-lazy-image.SuxtflWD.js.map
