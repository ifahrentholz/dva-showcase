import{R as d,U as g,A as l,N as h,S as C}from"./cssClasses.3Op57w6j.js";import{t as f,f as m,h as u,w as p,r as v,a as _}from"./index.module.xxaaf2ft.js";import{m as w}from"./mediaQueries.0eOxrCUs.js";var b=Object.defineProperty,y=Object.getOwnPropertyDescriptor,i=(e,t,s,a)=>{for(var n=a>1?void 0:a?y(t,s):t,r=e.length-1,c;r>=0;r--)(c=e[r])&&(n=(a?c(t,s,n):c(n))||n);return a&&n&&b(t,s,n),n};let o=class extends g{constructor(){super(...arguments),this.blockContentMap=new WeakMap}afterComponentRender(){this.initBlockContentMap(),this.setContentHeight()}initBlockContentMap(){this.blocks.forEach(e=>{const t=m(e,".dvag-m-c11-accordion__content");t!==null&&this.blockContentMap.set(e,t)})}destroyComponent(){this.blockContentMap=new WeakMap}setContentHeight(){this.contents!==void 0&&this.contents.forEach(e=>{this.updateContentHeight(e)})}updateContentHeight(e){const t=e.firstElementChild!==null?e.firstElementChild.scrollHeight:0;e.style.setProperty("--accordion-content-height",`${t}px`)}handleWindowResize(){this.setContentHeight()}async onToggleClick(e){e.preventDefault();const t=e.currentTarget.parentElement;if(!t)return;const s=this.blockContentMap.get(t);s&&(u(t,l)?(await p(100),v(t,l)):(await p(100),_(t,l),await p(300),this.updateContentHeight(s)))}};i([h(".dvag-m-c11-accordion__toggle")],o.prototype,"toggles",2);i([h(".dvag-m-c11-accordion__block")],o.prototype,"blocks",2);i([h(".dvag-m-c11-accordion__content")],o.prototype,"contents",2);i([d("window","resize"),f(100)],o.prototype,"handleWindowResize",1);i([d("toggles","click")],o.prototype,"onToggleClick",1);o=i([C(w)],o);customElements.define("dvag-m-c11-accordion",o);
//# sourceMappingURL=dvag-m-c11-accordion.Cx6cDRua.js.map
