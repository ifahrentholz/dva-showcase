{"version":3,"file":"dva-e-lazy-image.SuxtflWD.js","sources":["../../node_modules/@kluntje/js-utils/lib/array-helpers/index.js","../../node_modules/@kluntje/js-utils/lib/string-helpers/index.js","../../node_modules/@kluntje/core/lib/component.module.js","../../src/services/LazyConnectService.ts","../../src/constants/cssClasses.ts","../../src/config/mediaQueries.ts","../../src/utils/renderCssClasses.ts","../../src/components/dva-e-lazy-image/dva-e-lazy-image.template.ts","../../src/components/dva-e-lazy-image/dva-e-lazy-image.ts"],"sourcesContent":["\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});const e=(e,r)=>-1!==e.findIndex((e=>e===r));exports.hasElement=e,exports.isFilledArray=e=>void 0!==e&&e.length>0,exports.mergeArraysBy=(e,r,t)=>e.filter((e=>t(e,r))).concat(r),exports.pushIfNew=(r,t)=>(e(r,t)||r.push(t),r),exports.removeItem=(e,r)=>e.filter((e=>e!==r));\n//# sourceMappingURL=index.js.map\n","\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});const e=e=>e.replace(/ +(?= )/g,\"\"),r=e=>e.replace(/\\r?\\n|\\r/g,\"\");exports.getCleanString=t=>r(e(t)),exports.getWordCount=e=>e.split(\" \").length,exports.removeAllBS=e=>e.replace(/\\s/g,\"\"),exports.removeAllNL=r,exports.removeMultiBS=e,exports.toCamelCase=function(e){return e.toLowerCase().replace(/(-+|\\s+)[a-z]/g,(e=>e.toUpperCase())).replace(/(-|\\s)+/g,\"\")},exports.toKebabCase=function(e){return e.replace(/[A-Z]/g,(e=>`-${e.toLocaleLowerCase()}`))};\n//# sourceMappingURL=index.js.map\n","import{naiveClone as t,isEqual as e,getValue as i,toArray as s}from\"@kluntje/js-utils/lib/object-helpers\";import{pushIfNew as n,hasElement as o,mergeArraysBy as r}from\"@kluntje/js-utils/lib/array-helpers\";import{getCurrentMQ as a,onEvent as h,waitForEvent as c,find as l,findAll as d,removeEvent as u}from\"@kluntje/js-utils/lib/dom-helpers\";import{removeAllBS as p,toKebabCase as f}from\"@kluntje/js-utils/lib/string-helpers\";import{MediaQueryService as m,MQ_CHANGE_EVENT as v}from\"@kluntje/services\";\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */function b(t,e,i,s){return new(i||(i=Promise))((function(n,o){function r(t){try{h(s.next(t))}catch(t){o(t)}}function a(t){try{h(s.throw(t))}catch(t){o(t)}}function h(t){var e;t.done?n(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}h((s=s.apply(t,e||[])).next())}))}const g=Symbol(\"decorated-props\"),E=[\"type\",\"required\",\"defaultValue\",\"reactions\",\"reactOnInit\",\"attributeName\"],y={required:!1,reactions:null,reactOnInit:!1};function w(t){return function(e,i){e[g]=e[g]||{},e[g][i]=t}}function O(t,e){if(t instanceof HTMLElement){return w(Object.assign({},y))(t,e)}return w(Object.assign(Object.assign({},y),t))}function j(t,e){return function(i){return customElements.define(t,i,e),i}}function C(t){return class extends t{constructor(){super(...arguments),this._shouldRenderAsync=!0}}}function M(t){return function(e,i){void 0===e.decoratedUiEls&&(e.decoratedUiEls=new Map),e.decoratedUiEls.set(i,{selector:t,justOne:!0,events:new Set})}}function N(t){return function(e,i){void 0===e.decoratedUiEls&&(e.decoratedUiEls=new Map),e.decoratedUiEls.set(i,{selector:t,justOne:!1,events:new Set})}}function R(t,e,i){return function(s,n){void 0===s.decoratedUiEls&&(s.decoratedUiEls=new Map);const o=s.decoratedUiEls.get(t);void 0!==o||\"window\"!==t&&\"this\"!==t?(o.events.add({eventName:e,handler:n,options:i}),s.decoratedUiEls.set(t,o)):s.decoratedUiEls.set(t.toString(),{selector:t,justOne:!0,events:new Set([{eventName:e,handler:n,options:i}])})}}function S(t){return function(e){return class extends e{get activeOnMQs(){const t=this.getAttribute(\"active-on-mq\")||!1;if(!t)return!1;let e=[];return p(t).split(\",\").forEach((t=>{if(1===t.length)e=n(e,`MQ${t}`);else if(t.length>1){const i=t.split(\"-\"),s=parseInt(i[0],10),o=parseInt(i[1],10);for(let t=s;t<=o;t++)e=n(e,`MQ${t.toString()}`)}})),e}get currentMQ(){return a(t)}get activeOnCurrentMQ(){return this.activeOnMQs&&o(this.activeOnMQs||[],this.currentMQ)||!this.activeOnMQs}handleMqChange(t){this.activeOnMQs&&(!this.state.initialized&&this.activeOnCurrentMQ?this.mqBasedConnect():this.state.initialized&&!this.activeOnCurrentMQ&&this.disconnectComponent())}mqBasedConnect(){this.activeOnCurrentMQ&&super.connectedCallback()}connectedCallback(){m.getInstance(t),h(window,v,this.handleMqChange,this),this.mqBasedConnect()}}}}const A=\"kl-component-initialized\";class U extends HTMLElement{constructor({ui:t={},events:e=[],initialStates:i={},reactions:s={},props:n={},useShadowDOM:o=!1,preserveChildren:r=!1,asyncRendering:a=!1}={}){super(),this.uiDefinitions={},this.ui={},this.events=[],this.reactions={initialized:[\"onComponentInitialized\"]},this._state={},this._initialStates={},this.eventIdMap=new WeakMap,this.eventBindingMap={},this.initialStates={initialized:!1},this.useShadowDOM=o,this.preserveChildren=r,this.asyncRendering=a,this.useShadowDOM&&this.attachShadow({mode:\"open\"}),Object.assign(this.uiDefinitions,t),Object.assign(this.initialStates,i),Object.assign(this.reactions,s),this.addReactions(s),this.mergeEvents(e),this.props=this.normalizeProps(Object.assign(Object.assign({},this[g]||null),n))}get asyncRenderingEnabled(){return this._shouldRenderAsync||this.asyncRendering}connectedCallback(){this.setupComponent()}beforeComponentDisconnects(){}disconnectComponent(){this.beforeComponentDisconnects(),this.destroyComponentProps(),this.destroyComponent(),this.setState({initialized:!1})}renderingTemplate(){return null}renderComponent(){const t=this.renderingTemplate();null!==t&&this.render(t)}renderAsync(){return b(this,void 0,void 0,(function*(){console.warn(\"please override renderAsync-method\")}))}render(t){this.preserveChildren||(this.getUiRoot().innerHTML=\"\"),t instanceof HTMLTemplateElement?this.getUiRoot().appendChild(t.content.cloneNode(!0)):this.useShadowDOM?this.shadowRoot.innerHTML=t:this.insertAdjacentHTML(\"beforeend\",t)}destroyComponent(){console.warn(\"please override destroyComponent-method\")}afterComponentRender(){}onComponentInitialized(){this.dispatchEvent(new CustomEvent(\"kl-component-initialized\",{bubbles:!1}))}waitForInitialization(){return b(this,void 0,void 0,(function*(){if(!this.state.initialized)return yield c(this,\"kl-component-initialized\")}))}setupComponent(){return b(this,void 0,void 0,(function*(){this.asyncRenderingEnabled?yield this.renderAsync():this.renderComponent(),this.setupComponentProps(),this.afterComponentRender(),this.checkForMissingAttributes(),this.setState({initialized:!0})}))}setupComponentProps(){this.enableDecoratedProperties(),this.generateUI(),this.generateEvents(),this.initializeProps()}destroyComponentProps(){this.destroyDecoratedProperties(),this.removeEvents(),this.ui={}}generateUI(){const t=this.getUiRoot();Object.keys(this.uiDefinitions).forEach((e=>{const i=this.uiDefinitions[e].trim();if(i.endsWith(\":-one\")){const s=i.replace(/:-one/g,\"\").trim();this.ui[e]=l(t,s)}else this.ui[e]=d(t,i)}))}generateEvents(){this.events.forEach((t=>{if(\"function\"==typeof this[t.handler]){const e=this.getEventTargets(t.target);h(e,t.event,this[t.handler],this,t.options)}}))}removeEvents(){this.events.forEach((t=>{if(\"function\"==typeof this[t.handler]){const e=this.getEventTargets(t.target);u(e,t.event,this[t.handler],this,t.options)}}))}updateUI(){this.destroyDecoratedProperties(),this.enableDecoratedProperties(),this.ui={},this.generateUI()}updateEvents(){this.events.forEach((t=>{if(\"function\"==typeof this[t.handler]){const e=this.getEventTargets(t.target);u(e,t.event,this[t.handler],this,t.options),h(e,t.event,this[t.handler],this,t.options)}}))}enableDecoratedProperties(){void 0!==this.decoratedUiEls&&this.decoratedUiEls.forEach(((t,e)=>{if(\"window\"===t.selector)t.events.forEach((t=>{h(window,t.eventName,this[t.handler],this,t.options)}));else if(\"this\"===t.selector)t.events.forEach((t=>{h(this,t.eventName,this[t.handler],this,t.options)}));else{const i=t.justOne?l(this.getUiRoot(),t.selector):d(this.getUiRoot(),t.selector);this[e]=i,t.events.forEach((t=>{h(this[e],t.eventName,this[t.handler],this,t.options)}))}}))}destroyDecoratedProperties(){void 0!==this.decoratedUiEls&&this.decoratedUiEls.forEach(((t,e)=>{if(\"window\"===t.selector)t.events.forEach((t=>{u(window,t.eventName,this[t.handler],this,t.options)}));else if(\"this\"===t.selector)t.events.forEach((t=>{u(this,t.eventName,this[t.handler],this,t.options)}));else{const i=this[e];null!=i&&t.events.forEach((t=>{u(this[e],t.eventName,this[t.handler],this,t.options)})),this[e]=void 0}}))}initializeProps(){this.addDefaultValueAndType(this.props),this.addPropAccessors(this.props),this.addPropsReactions(this.props)}normalizeProps(t){const e={};return Object.entries(t).forEach((([t,i])=>{const s=\"object\"==typeof i&&null!==i&&Object.keys(i).length&&Object.keys(i).every((t=>E.includes(t)))?i:{defaultValue:i};s.attributeName=s.attributeName||f(t),e[t]=Object.assign(Object.assign({},y),s)})),e}addDefaultValueAndType(t){Object.entries(t).forEach((([t,e])=>{e.defaultValue=e.hasOwnProperty(\"defaultValue\")?e.defaultValue:this[t],e.type=e.type||null!==e.defaultValue&&void 0!==e.defaultValue?typeof e.defaultValue:\"string\"}))}addPropAccessors(t){for(const[e,i]of Object.entries(t))Object.defineProperty(this,e,{enumerable:!1,configurable:!0,set(t){null==t?this.removeAttribute(i.attributeName):\"boolean\"===i.type?t?this.setAttribute(i.attributeName,\"\"):this.removeAttribute(i.attributeName):\"object\"===i.type?this.setAttribute(i.attributeName,JSON.stringify(t)):this.setAttribute(i.attributeName,String(t))},get(){const t=this.getAttribute(i.attributeName);return null===t&&void 0!==i.defaultValue?i.defaultValue:this.castFromAttribute(t,i.type)}})}addPropsReactions(t){const e=Object.entries(t).filter((([,t])=>Array.isArray(t.reactions)&&t.reactions.length));if(0===e.length)return;const i=t=>{const[i,s]=e.find((([,e])=>e.attributeName===t));s.reactions.forEach((t=>{\"function\"==typeof t?t.call(this,this[i]):\"string\"==typeof t&&t in this&&\"function\"==typeof this[t]?this[t](this[i]):console.error(\"unknown given reaction callback: \",t)}))},s={attributes:!0,attributeFilter:e.map((([,t])=>t.attributeName)),attributeOldValue:!0};new MutationObserver((t=>{for(const e of t){const t=e.oldValue;if(this.getAttribute(e.attributeName)===t)return;i(e.attributeName)}})).observe(this,s),e.filter((([,t])=>t.reactOnInit)).forEach((([,t])=>i(t.attributeName)))}checkForMissingAttributes(){const t=[];for(const e of Object.values(this.props))e.required&&!this.hasAttribute(e.attributeName)&&t.push(e.attributeName);t.length&&console.log(`${this.tagName.toLowerCase()} is missing required attribute(s): ${t.join(\", \")}`)}castFromAttribute(t,e=\"string\"){switch(e){case\"boolean\":return null!==t;case\"number\":return parseFloat(String(t));case\"object\":return JSON.parse(String(t));default:return t}}get state(){return t(this._state||{})}set state(t){throw new Error('The state should only be modified via the \"setState\" method.')}set initialStates(t){this._initialStates=t,this._state=t}get initialStates(){return this._initialStates||{}}setState(t,{merge:s=!0,silent:n=!1}={}){const o=this.state;if(this._state=Object.assign({},s?o:{},t),n||e(o,this._state))return this;const r=this.state,a=this.reactions||{};return Object.keys(a).forEach((s=>{if(\"*\"===s)this.invokeReaction(\"*\");else if(s in t){const t=i(o,s),n=i(r,s);e(t,n)||this.invokeReaction(s)}})),this}addReactions(t,e){if(\"object\"==typeof t)Object.entries(t).forEach((([t,e])=>this.addReactions(t,e)));else{this.reactions=this.reactions||{};const i=s(e),n=this.reactions[t]||[];this.reactions[t]=r(n,i,this.isNewReaction)}return this}isNewReaction(t,e){return!e.some((e=>t===e))}removeReactions(t,e){return\"object\"==typeof t?(Object.entries(t).forEach((([t,e])=>this.removeReactions(t,e))),this):(this.reactions.hasOwnProperty(t)?e?(e.forEach((e=>{this.reactions[t]=this.reactions[t].filter((t=>t!==e))})),0===this.reactions[t].length&&delete this.reactions[t]):delete this.reactions[t]:console.warn(\"no such prop found \"),this)}invokeReaction(t){((this.reactions||{})[t]||new Set).forEach((t=>{\"function\"==typeof t?t(this.state):\"string\"==typeof t&&t in this&&\"function\"==typeof this[t]?this[t](this.state):console.error(\"given reaction callback can't be found: \",t)}))}mergeEvents(t){this.events=this.events.filter((e=>this.isNewEvent(e,t))).concat(t)}isNewEvent(t,e){return!e.some((e=>e.event===t.event&&e.target===t.target))}getUiRoot(){return this.shadowRoot?this.shadowRoot:this}getEventTargets(t){let e=null;return e=\"this\"===t?this:\"window\"===t?window:this.ui[t],e}}export{U as Component,A as INITIALIZED_EVENT,S as MQBasedRendered,O as prop,C as renderAsync,j as tag,M as uiElement,N as uiElements,R as uiEvent};\n//# sourceMappingURL=component.module.js.map\n","class LazyConnectService {\n  componentMap = new WeakMap();\n  intersectionObserver: IntersectionObserver;\n\n  constructor() {\n    this.intersectionObserver = new IntersectionObserver(entries => this.handleIntersectionChange(entries));\n  }\n\n  subscribe(target: HTMLElement, intersectionCallback: () => void) {\n    this.componentMap.set(target, intersectionCallback);\n    this.intersectionObserver.observe(target);\n  }\n\n  unsubscribe(target: HTMLElement) {\n    this.intersectionObserver.unobserve(target);\n    this.componentMap.delete(target);\n  }\n\n  handleIntersectionChange(entries: Array<IntersectionObserverEntry>) {\n    // console.log(\"lol\", entries);\n    entries.forEach(intersectionEntry => {\n      const target = intersectionEntry.target;\n\n      if (!intersectionEntry.isIntersecting || !this.componentMap.has(target)) return;\n\n      const intersectionCallback = this.componentMap.get(target);\n      this.unsubscribe(target as HTMLElement);\n      intersectionCallback();\n    });\n  }\n}\n\nexport default new LazyConnectService();\n","export const ACTIVE = \"dva-state-active\";\nexport const OPEN = \"dva-state-open\";\nexport const LOADING = \"dva-state-loading\";\nexport const LOADED = \"dva-state-loaded\";\nexport const ERROR = \"dva-state-error\";\nexport const HIDDEN = \"dva-state-hidden\";\nexport const COLLAPSED = \"dva-state-collapsed\";\nexport const VISIBLE = \"dva-state-visible\";\nexport const INVISIBLE = \"dva-state-invisible\";\nexport const INACTIVE = \"dva-state-inactive\";\nexport const ANIMATING = \"dva-state-animating\";\nexport const STATE_PREFIX = \"dva-state-\";\nexport const TOUCH = \"dva-h-touch\";\nexport const NO_TOUCH = \"dva-h-no-touch\";\nexport const INVERTED = \"dva-h-inverted\";\nexport const DRAGGING = \"dva-state-dragging\";\nexport const DISABLED = \"dva-state-disabled\";\nexport const SELECTED = \"dva-state-selected\";\nexport const HASCOOKIE = \"dva-state-has-cookie\";\nexport const HAS_CONSENT = \"dva-state-has-consent\";\nexport const NEEDS_CONSENT = \"dva-state-needs-consent\";\nexport const INITIALIZED = \"dva-state-initialized\";\nexport const IN_VIEWPORT = \"dva-state-invp\";\nexport const COOKIE_OVERLAY_OPEN = \"dva-state-cookie-overlay-open\";\n// NEW EVENTS > 09.2021\nexport const FINISHED = \"dvag-state-finished\";\nexport const SUCCESS = \"dvag-state-success\";\nexport const PLAYING = \"dvag-state-playing\";\n// NEW EVENTS > 06.2022\nexport const KEYBOARD_FOCUS = \"dvag-h-keyboard-focus\";\nexport const SCROLL_LOCK = \"dvag-state-hidden-overflow\";\nexport const CONSTRAINT_ERROR = \"dvag-state-constraint-error\";\nexport const FOCUS = \"dvag-state-focus\";\nexport const NAVIGATION_OPEN = \"dvag-state-navigation-open\";\nexport const FIXED_TOP = \"dvag-state-fixed-top\";\nexport const FIXED_BOTTOM = \"dvag-state-fixed-bottom\";\n","/**\n * Breakpoints a.k.a. Mediaqueries\n */\nexport default [\n  {\n    name: \"MQ5\",\n    query: \"(min-width: 1280px)\",\n    min: 1280,\n    // fallBack for IE\n    max: Number.MAX_SAFE_INTEGER || 10000,\n    colCount: 4,\n  },\n  {\n    name: \"MQ4\",\n    query: \"(min-width: 1024px)\",\n    min: 1024,\n    max: 1279,\n    colCount: 4,\n  },\n  {\n    name: \"MQ3\",\n    query: \"(min-width: 760px)\",\n    min: 760,\n    max: 1023,\n    colCount: 4,\n  },\n  {\n    name: \"MQ2\",\n    query: \"(min-width: 476px)\",\n    min: 476,\n    max: 759,\n    colCount: 6,\n  },\n  {\n    name: \"MQ1\",\n    query: \"(min-width: 0px)\",\n    min: 0,\n    max: 476,\n    colCount: 12,\n  },\n];\n","export const renderCssClasses = (cssClasses?: string) => {\n  if (cssClasses === undefined) return \"\";\n  return ` ${cssClasses}`;\n};\n","import { html } from \"lit-html\";\nimport { ifDefined } from \"lit-html/directives/if-defined.js\";\n\nimport dvaELazyImageShadowScss from \"./dva-e-lazy-image.shadow.scss?inline\";\nimport { renderCssClasses } from \"Utils/renderCssClasses\";\n\ninterface TemplateParameter {\n  src?: string;\n  alt?: string;\n  srcset?: string;\n  sizes?: string;\n  aspectRatio?: string;\n  wrapper?: string;\n  fallbackImg: string;\n};\n\ninterface renderLazyImageParameter {\n  src: string;\n  alt?: string;\n  srcset?: string;\n  sizes?: string;\n  aspectRatio?: string;\n  wrapper?: string;\n  cssClasses?: string;\n};\n\n\n\nconst getObjectFitVal = (aspectRatio: string | undefined) => {\n  if (aspectRatio === \"cover\") return \"cover\";\n  if (aspectRatio === \"contain\") return \"contain\";\n  return \"fill\";\n};\n\nconst getObjectPositionVal = (aspectRatio: string | undefined) => {\n  if (aspectRatio === \"contain\") return \"100% 100%\";\n  return \"50% 50%\";\n};\n\nconst getWrapperClass = (wrapper: string | undefined) => {\n  if (wrapper === \"circle\") return \"dva-e-lazy-image--circle\";\n  return \"\";\n};\n\nconst getAspectRatioClass = (aspectRatio: string | undefined) => {\n  if (aspectRatio === \"21:9\") return \"dva-e-lazy-image__mask dva-e-lazy-image__mask--21-9\";\n  if (aspectRatio === \"16:9\") return \"dva-e-lazy-image__mask dva-e-lazy-image__mask--16-9\";\n  if (aspectRatio === \"4:3\") return \"dva-e-lazy-image__mask dva-e-lazy-image__mask--4-3\";\n  if (aspectRatio === \"1:1\") return \"dva-e-lazy-image__mask dva-e-lazy-image__mask--1-1\";\n  if (aspectRatio === \"2:3\") return \"dva-e-lazy-image__mask dva-e-lazy-image__mask--2-3\";\n  if (aspectRatio === \"9:16\") return \"dva-e-lazy-image__mask dva-e-lazy-image__mask--9-16\";\n  if (aspectRatio === \"cover\") return \"dva-e-lazy-image__no-ratio dva-e-lazy-image__cover\";\n  if (aspectRatio === \"contain\") return \"dva-e-lazy-image__no-ratio dva-e-lazy-image__contain\";\n  if (aspectRatio === \"fill\") return \"dva-e-lazy-image__no-ratio\";\n  return \"dva-e-lazy-image__no-ratio\";\n};\n\nexport const template = (args: TemplateParameter) => {\n  return html`\n    <style>\n      ${dvaELazyImageShadowScss}\n    </style>\n    <!--<div class=\"${getWrapperClass(args.wrapper)}\">-->\n    <div class=\"${getAspectRatioClass(args.aspectRatio)}\">\n      <div class=\"dva-e-lazy-image__wrapper dva-js-lazy-image__wrapper\">\n        <img\n          draggable=\"false\"\n          class=\"dva-js-lazy-image__img dva-e-lazy-image__img\"\n          src=\"${args.fallbackImg}\"\n          srcset=\"${args.srcset}\"\n          alt=\"${args.alt}\"\n          sizes=\"${args.sizes}\"\n          data-object-fit=${getObjectFitVal(args.aspectRatio)}\n          data-object-position=${getObjectPositionVal(args.aspectRatio)}\n        />\n      </div>\n    </div>\n    <!--</div>-->\n  `;\n};\n\nexport const renderLazyImage = (args: renderLazyImageParameter) => {\n  return html`\n    <dva-e-lazy-image \n      class=\"dva-e-lazy-image dva-js-lazy-image${renderCssClasses(args.cssClasses)}\"\n      src=\"${args.src}\"\n      alt=${ifDefined(args.alt)}\n      srcset=\"${ifDefined(args.srcset)}\"\n      sizes=\"${ifDefined(args.sizes)}\"\n      aspect-ratio=\"${ifDefined(args.aspectRatio)}\"\n      wrapper=\"${ifDefined(args.wrapper)}\">\n    </dva-e-lazy-image>\n  `;\n};\n","import { Component, MQBasedRendered } from \"@kluntje/core\";\nimport { LOADING, LOADED, INITIALIZED, IN_VIEWPORT, HIDDEN } from \"Constants/cssClasses\";\nimport { removeClass, addClass, onEvent, removeEvent } from \"@kluntje/js-utils/lib/dom-helpers\";\nimport { render } from \"lit-html\";\nimport mqDefinitions from \"Config/mediaQueries\";\nimport LazyConnectService from \"Services/LazyConnectService\";\n\nimport { template } from \"./dva-e-lazy-image.template\";\n\nexport type ImageInitType = \"lazy\" | \"explicit\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\n@MQBasedRendered(mqDefinitions)\nexport class DvaLazyImage extends Component {\n  constructor() {\n    super({\n      ui: {\n        image: \".dva-js-lazy-image__img :-one\",\n        wrapper: \".dva-js-lazy-image__wrapper :-one\",\n      },\n      initialStates: {\n        imgLoaded: false,\n      },\n      useShadowDOM: true,\n    });\n  }\n\n  connectedCallback() {\n    if (this.initType === \"lazy\") {\n      LazyConnectService.subscribe(this, () => super.connectedCallback());\n    } else {\n      super.connectedCallback();\n    }\n  }\n\n  get DEFAULT_FALLBACK_IMAGE(): string {\n    return \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 9'%3E%3C/svg%3E\";\n  }\n\n  get fallbackImg(): string {\n    return this.getAttribute(\"fallback-image\") || this.DEFAULT_FALLBACK_IMAGE;\n  }\n\n  /**\n   * Returns value of 'src'-Attribute\n   * @returns {string}\n   */\n  get imgSrc(): string {\n    return this.getAttribute(\"src\") || \"\";\n  }\n\n  /**\n   * Returns value of 'srcset'-Attribute\n   * @returns {string}\n   */\n  get imgSrcSet(): string {\n    return this.getAttribute(\"srcset\") || \"\";\n  }\n\n  /**\n   * Returns value of 'sizes'-Attribute\n   * @returns {string}\n   */\n  get imgSizes(): string {\n    return this.getAttribute(\"sizes\") || \"\";\n  }\n\n  /**\n   * Returns value of 'alt'-Attribute\n   * @returns {string}\n   */\n  get imgAlt(): string {\n    return this.getAttribute(\"alt\") || \"\";\n  }\n\n  /**\n   * Returns value of 'aspect-ratio'-Attribute\n   * @returns {string}\n   */\n  get imgAspectRatio(): string {\n    return this.getAttribute(\"aspect-ratio\") || \"\";\n  }\n\n  /**\n   * Returns value of 'wrapper'-Attribute\n   * @returns {string}\n   */\n  get imgWrapper(): string {\n    return this.getAttribute(\"wrapper\") || \"\";\n  }\n\n  /**\n   * Returns, whether loaded image is Wider than needed\n   * @returns {boolean}\n   */\n  get hasOverWidth(): boolean {\n    return this.ui.image.offsetHeight < this.offsetHeight;\n  }\n\n  /**\n   * Webcomponents Helper to observe Attribute Changes\n   * @override\n   * @returns {string[]}\n   */\n  static get observedAttributes(): string[] {\n    return [\"src\", \"aspect-ratio\"];\n  }\n\n  /**\n   * Returns given init-type, default to lazy\n   * @returns {ImageInitType}\n   */\n  get initType(): ImageInitType {\n    switch (this.getAttribute(\"init\")) {\n      case \"explicit\":\n        return \"explicit\";\n      default:\n        return \"lazy\";\n    }\n  }\n\n  /**\n   * Handles change of observed Attributes\n   * @override\n   * @param {string} name - name of Attribute, that changed\n   * @param {string} oldValue\n   * @param {string} newValue\n   */\n  attributeChangedCallback(name: string, oldValue: string, newValue: string): void {\n    if (oldValue === newValue || !this.state.initialized) return;\n\n    switch (name) {\n      case \"src\":\n        this.setState({ imgLoaded: false });\n        this.loadImage();\n        break;\n      case \"aspect-ratio\":\n        this.renderComponent();\n        this.handleOverwidth();\n        break;\n    }\n  }\n\n  /**\n   * Renders Component via lit-html\n   */\n  renderComponent(): void {\n    render(\n      template({\n        alt: this.imgAlt,\n        src: this.DEFAULT_FALLBACK_IMAGE,\n        srcset: \"\",\n        sizes: this.imgSizes,\n        aspectRatio: this.imgAspectRatio,\n        wrapper: this.imgWrapper,\n        fallbackImg: this.fallbackImg,\n      }),\n      this.getUiRoot(),\n    );\n  }\n\n  /**\n   * Rerenders Component via lit-html\n   */\n  updateComponent(): void {\n    render(\n      template({\n        alt: this.imgAlt,\n        src: this.imgSrc,\n        srcset: this.imgSrcSet,\n        sizes: this.imgSizes,\n        aspectRatio: this.imgAspectRatio,\n        fallbackImg: this.fallbackImg,\n      }),\n      this.getUiRoot(),\n    );\n  }\n\n  /**\n   * Lifecycle-Hook: Initializes Component after render\n   * @override\n   */\n  afterComponentRender(): void {\n    addClass(this, INITIALIZED);\n    removeClass(this.ui.wrapper, HIDDEN);\n    if (this.initType !== \"explicit\") this.loadImage();\n  }\n\n  /**\n   * Lifecycle-Hook for removing markup on destroy\n   */\n  beforeComponentDisconnects(): void {\n    addClass(this.ui.wrapper, HIDDEN);\n  }\n\n  /**\n   * Lifecycle-Hook for removing markup on destroy\n   */\n  destroyComponent(): void {\n    this.setState({ imgLoaded: false });\n  }\n\n  /**\n   * Initiates Image Load, by add src(-set) to img in shadow-DOM\n   */\n  loadImage(): void {\n    if (this.state.imgLoaded) return;\n    addClass(this, IN_VIEWPORT);\n    addClass(this.ui.wrapper, LOADING);\n    const currentImage = this.ui.image;\n    this.attachImageEvents(currentImage); // attach loading events\n    // trigger image loading\n    if (this.imgSrc || this.imgSrcSet) {\n      if (this.imgSrc) currentImage.setAttribute(\"src\", this.imgSrc);\n      if (this.imgSrcSet) currentImage.setAttribute(\"srcset\", this.imgSrcSet);\n    } else {\n      console.warn(\"LazyImage: no src/srcset provided for\", currentImage);\n    }\n  }\n\n  /**\n   * Handles any ImageLoading-Errors\n   */\n  handleImageLoadingError(): void {\n    const currentImg = this.ui.image;\n\n    removeEvent(currentImg, \"error\", this.handleImageLoadingError, this);\n    console.log(\"src\", this.fallbackImg);\n    currentImg.setAttribute(\"src\", this.fallbackImg);\n    currentImg.setAttribute(\"srcset\", \"\");\n    console.log(\"lazyImg error:\", currentImg);\n  }\n\n  /**\n   * Handles ImageLoad-Event, by setting/removing needed Classes\n   */\n  handleImageLoad(): void {\n    this.handleOverwidth();\n\n    removeEvent(this.ui.image, \"load\", this.handleImageLoad, this);\n    removeClass(this.ui.wrapper, LOADING);\n    addClass(this, LOADED);\n\n    this.dispatchEvent(\n      new CustomEvent(\"dva-image-loaded\", {\n        detail: {\n          target: this,\n        },\n      }),\n    );\n    this.setState({ imgLoaded: true });\n  }\n\n  /**\n   * Adds needed Events for ImageLoading\n   * @param {Node} img - image in Shadow-DOM\n   */\n  attachImageEvents(img: HTMLImageElement): void {\n    onEvent(img, \"load\", this.handleImageLoad, this);\n    onEvent(img, \"error\", this.handleImageLoadingError, this);\n  }\n\n  /**\n   * Checks if image has Overwidth and optinally adds needed class\n   */\n  handleOverwidth(): void {\n    removeClass(this.ui.wrapper, \"dva-e-lazy-image__wrapper--has-overwidth\");\n    if (this.hasOverWidth) {\n      addClass(this.ui.wrapper, \"dva-e-lazy-image__wrapper--has-overwidth\");\n    }\n  }\n}\n\ncustomElements.define(\"dva-e-lazy-image\", DvaLazyImage);\n"],"names":["arrayHelpers","e","r","hasElement","mergeArraysBy","t","pushIfNew","stringHelpers","removeAllBS","toKebabCase","b","i","s","n","o","h","a","g","E","y","N","R","S","p","m","v","U","c","l","d","u","f","LazyConnectService","entries","target","intersectionCallback","intersectionEntry","LazyConnectService$1","ACTIVE","LOADING","LOADED","HIDDEN","INITIALIZED","IN_VIEWPORT","mqDefinitions","renderCssClasses","cssClasses","getObjectFitVal","aspectRatio","getObjectPositionVal","getWrapperClass","wrapper","getAspectRatioClass","template","args","html","dvaELazyImageShadowScss","renderLazyImage","ifDefined","DvaLazyImage","Component","name","oldValue","newValue","render","addClass","removeClass","currentImage","currentImg","removeEvent","img","onEvent","__decorateClass","MQBasedRendered"],"mappings":"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","x_google_ignoreList":[0,1,2]}