import{R as d,U as g,N as h,S as f}from"./component.module.Hp3Pacc1.js";import{t as m,f as C,h as u,w as l,r as v,a as _}from"./index.module.1ng6vgY5.js";import{m as w}from"./mediaQueries.0eOxrCUs.js";import{A as p}from"./cssClasses.wlqlOWT8.js";var b=Object.defineProperty,y=Object.getOwnPropertyDescriptor,i=(e,t,s,r)=>{for(var n=r>1?void 0:r?y(t,s):t,a=e.length-1,c;a>=0;a--)(c=e[a])&&(n=(r?c(t,s,n):c(n))||n);return r&&n&&b(t,s,n),n};let o=class extends g{constructor(){super(...arguments),this.blockContentMap=new WeakMap}afterComponentRender(){this.initBlockContentMap(),this.setContentHeight()}initBlockContentMap(){this.blocks.forEach(e=>{const t=C(e,".dvag-m-c11-accordion__content");t!==null&&this.blockContentMap.set(e,t)})}destroyComponent(){this.blockContentMap=new WeakMap}setContentHeight(){this.contents!==void 0&&this.contents.forEach(e=>{this.updateContentHeight(e)})}updateContentHeight(e){const t=e.firstElementChild!==null?e.firstElementChild.scrollHeight:0;e.style.setProperty("--accordion-content-height",`${t}px`)}handleWindowResize(){this.setContentHeight()}async onToggleClick(e){e.preventDefault();const t=e.currentTarget.parentElement;if(!t)return;const s=this.blockContentMap.get(t);s&&(u(t,p)?(await l(100),v(t,p)):(await l(100),_(t,p),await l(300),this.updateContentHeight(s)))}};i([h(".dvag-m-c11-accordion__toggle")],o.prototype,"toggles",2);i([h(".dvag-m-c11-accordion__block")],o.prototype,"blocks",2);i([h(".dvag-m-c11-accordion__content")],o.prototype,"contents",2);i([d("window","resize"),m(100)],o.prototype,"handleWindowResize",1);i([d("toggles","click")],o.prototype,"onToggleClick",1);o=i([f(w)],o);customElements.define("dvag-m-c11-accordion",o);
//# sourceMappingURL=dvag-m-c11-accordion.NyiYjPUI.js.map
