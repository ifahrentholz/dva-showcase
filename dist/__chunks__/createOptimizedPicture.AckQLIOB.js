const w=()=>{const e=document.querySelector("#main");return e?window.location.href==="about:srcdoc"&&e.classList.contains("sidekick-library"):!1};function f(){if(!w())return window.location.href;const{location:e}=window.parent,s=new URLSearchParams(e.search);return`${e.origin}${s.get("path")}`}function p(e){if(e.src==="")return;const{src:s,alt:d,eager:m=!1,width:u,height:h,breakpoints:a=[{media:"(min-width: 600px)",width:2e3},{width:750}]}=e,l=new URL(s,f()),c=document.createElement("picture"),{pathname:n}=l,o=n.substring(n.lastIndexOf(".")+1);return a.forEach(i=>{const r=document.createElement("source");i.media&&r.setAttribute("media",i.media),r.setAttribute("type","image/webp"),r.setAttribute("srcset",`${n}?width=${i.width}&format=webply&optimize=medium`),c.appendChild(r)}),a.forEach((i,r)=>{if(r<a.length-1){const t=document.createElement("source");i.media&&t.setAttribute("media",i.media),t.setAttribute("srcset",`${n}?width=${i.width}&format=${o}&optimize=medium`),c.appendChild(t)}else{const t=document.createElement("img");t.setAttribute("loading",m?"eager":"lazy"),t.setAttribute("alt",d),t.setAttribute("width",u.toString()),t.setAttribute("height",h.toString()),c.appendChild(t),t.setAttribute("src",`${n}?width=${i.width}&format=${o}&optimize=medium`)}}),c}export{p as c,w as i};
//# sourceMappingURL=createOptimizedPicture.AckQLIOB.js.map
