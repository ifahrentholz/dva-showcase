{"version":3,"file":"article-header.js","sources":["../../src/utils/undefinedOnEmpty.ts","../../src/blocks/article-header/article-header.ts"],"sourcesContent":["/**\n * Returns undefined if the value is an empty string, otherwise returns the value itself.\n *\n * @param {string} value - The value to check.\n * @returns {string | undefined} - If the value is an empty string, returns undefined\n * otherwise, returns the value itself.\n *\n * @example\n * // Example usage:\n * const emptyValue = '';\n * const nonEmptyValue = 'Hello, World!';\n *\n * const result1 = undefinedOnEmpty(emptyValue);\n * console.log(result1); // Output: undefined\n *\n * const result2 = undefinedOnEmpty(nonEmptyValue);\n * console.log(result2); // Output: 'Hello, World!'\n */\nexport function undefinedOnEmpty(value: string): string | undefined {\n  return value.trim() === \"\" ? undefined : value;\n}\n","import { html, nothing, render } from 'lit';\nimport './article-header.scss';\nimport { cleanUpBlock } from 'Utils/cleanUpBlock';\nimport { undefinedOnEmpty } from 'Utils/undefinedOnEmpty';\nimport { ifDefined } from 'lit-html/directives/if-defined.js';\nimport { DebuggerService } from '@kluntje/services';\n\ninterface ArticleHeaderTemplateArgs {\n  date?: string;\n  headline?: string;\n  text?: string;\n}\n\nconst renderTopline = (date?: string) => {\n  if (!date) return nothing;\n  let dateIsoString: string | undefined, formattedDate: string;\n  try {\n    dateIsoString = new Date(date).toISOString();\n    formattedDate = new Date(date).toLocaleDateString();\n  } catch (error) {\n    DebuggerService.warn('Could not parse date', date);\n    dateIsoString = undefined;\n    formattedDate = date;\n  }\n\n  return html`\n    <div class=\"dva-m-article-header__topline\">\n      <time class=\"dva-m-article-header__date\">\n        <time class=\"text-dimmed\" datetime=\"${ifDefined(dateIsoString)}\"> ${formattedDate} </time>\n      </time>\n    </div>\n  `;\n};\n\nconst renderHeadline = (headline?: string) => {\n  if (!headline) return nothing;\n\n  return html` <h1 class=\"dva-m-article-header__headline\">${headline}</h1> `;\n};\n\nconst renderText = (text?: string) => {\n  if (!text) return nothing;\n\n  return html` <p class=\"dva-m-article-header__text\">${text}</p> `;\n};\n\nconst articleHaderTemplate = (args: ArticleHeaderTemplateArgs) => {\n  const date = undefinedOnEmpty(args.date || '');\n  const headline = undefinedOnEmpty(args.headline || '');\n  const text = undefinedOnEmpty(args.text || '');\n\n  if (!date && !headline && !text) return nothing;\n\n  return html`\n    <header class=\"dva-m-article-header\">\n      <div class=\"dva-grid\">\n        <div class=\"dva-grid-row\">\n          <div class=\"dva-grid-col-1-12 dva-grid-col-4-8 dva-grid-offset-4-2\">\n            ${renderTopline(date)} ${renderHeadline(headline)} ${renderText(text)}\n          </div>\n        </div>\n      </div>\n    </header>\n  `;\n};\n\nexport default function (block: HTMLElement) {\n  const date = block.children[0].textContent || '';\n  const headline = block.children[1].textContent || '';\n  const text = block.children[2].textContent || '';\n\n  cleanUpBlock(block);\n\n  render(articleHaderTemplate({ date, headline, text }), block);\n}\n"],"names":["undefinedOnEmpty","value","renderTopline","date","nothing","dateIsoString","formattedDate","DebuggerService","html","ifDefined","renderHeadline","headline","renderText","text","articleHaderTemplate","args","articleHeader","block","cleanUpBlock","render"],"mappings":"kPAkBO,SAASA,EAAiBC,EAAmC,CAClE,OAAOA,EAAM,KAAW,IAAA,GAAK,OAAYA,CAC3C,CCPA,MAAMC,EAAiBC,GAAkB,CACvC,GAAI,CAACA,EAAa,OAAAC,EAClB,IAAIC,EAAmCC,EACnC,GAAA,CACFD,EAAgB,IAAI,KAAKF,CAAI,EAAE,YAAY,EAC3CG,EAAgB,IAAI,KAAKH,CAAI,EAAE,mBAAmB,OACpC,CACEI,EAAA,KAAK,uBAAwBJ,CAAI,EACjCE,EAAA,OACAC,EAAAH,CAClB,CAEO,OAAAK,4HAGqCC,EAAUJ,CAAa,CAAC,KAAMC,CAAa,sBAIzF,EAEMI,EAAkBC,GACjBA,EAEEH,+CAAmDG,CAAQ,QAF5CP,EAKlBQ,EAAcC,GACbA,EAEEL,0CAA8CK,CAAI,OAFvCT,EAKdU,EAAwBC,GAAoC,CAChE,MAAMZ,EAAOH,EAAiBe,EAAK,MAAQ,EAAE,EACvCJ,EAAWX,EAAiBe,EAAK,UAAY,EAAE,EAC/CF,EAAOb,EAAiBe,EAAK,MAAQ,EAAE,EAE7C,MAAI,CAACZ,GAAQ,CAACQ,GAAY,CAACE,EAAaT,EAEjCI,6JAKKN,EAAcC,CAAI,CAAC,IAAIO,EAAeC,CAAQ,CAAC,IAAIC,EAAWC,CAAI,CAAC,6BAMjF,EAEA,SAAAG,EAAyBC,EAAoB,CAC3C,MAAMd,EAAOc,EAAM,SAAS,CAAC,EAAE,aAAe,GACxCN,EAAWM,EAAM,SAAS,CAAC,EAAE,aAAe,GAC5CJ,EAAOI,EAAM,SAAS,CAAC,EAAE,aAAe,GAE9CC,EAAaD,CAAK,EAElBE,EAAOL,EAAqB,CAAE,KAAAX,EAAM,SAAAQ,EAAU,KAAAE,CAAM,CAAA,EAAGI,CAAK,CAC9D"}