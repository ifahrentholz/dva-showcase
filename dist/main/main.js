import{s as x,x as r,T,j as _}from"../__chunks__/lit-element.XkUWx5ik.js";import{n as E,t as A}from"../__chunks__/property.0daVBkvz.js";import{o as u}from"../__chunks__/unsafe-html.tmuruS4o.js";import{f as q}from"../__chunks__/fetch.service.FjW5hVu3.js";import{r as d}from"../__chunks__/dva-e-icon.template.tppk8KWP.js";import"../__chunks__/dva-e-icon.JvN5hF7V.js";import"../__chunks__/dva-e-lazy-image.691n9Yp7.js";import"../__chunks__/dvag-m-c11-accordion.rKKpSxDv.js";import{_ as z}from"../__chunks__/preload-helper.hlDPvxQM.js";import{r as y}from"../__chunks__/dva-e-lazy-image.template.zlMtuWyq.js";import"../__chunks__/component.module.D5fmAfIh.js";import"../__chunks__/index.module.BEmWgxQc.js";import"../__chunks__/LazyConnectService.yBR27czX.js";import"../__chunks__/eventTypes.voneREpA.js";import"../__chunks__/cssClasses.CIN72OsW.js";import"../__chunks__/mediaQueries.0eOxrCUs.js";import"../__chunks__/getSrcset.ehtWqR_R.js";import"../__chunks__/if-defined.JfW-uEqn.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function D(i){return E({...i,state:!0,attribute:!1})}function M({input:i,specifier:e,htmlTag:a}){return i.split(e).map((t,s)=>s%2===1?`<${a}>${t}</${a}>`:t).join("")}var I=Object.defineProperty,F=Object.getOwnPropertyDescriptor,B=(i,e,a,t)=>{for(var s=t>1?void 0:t?F(e,a):e,n=i.length-1,o;n>=0;n--)(o=i[n])&&(s=(t?o(e,a,s):o(s))||s);return t&&s&&I(e,a,s),s};let b=class extends x{createRenderRoot(){return this}async firstUpdated(i){await this.fetchHeaderData()}async fetchHeaderData(){try{const i=await q.fetchJson("header.json",{cacheOptions:{cacheType:"runtime"}});this.headerData={leftCol:i.leftCol.data[0],rightCol:i.rightCol.data}}catch(i){console.error("HeaderComponent: ",i)}}render(){if(!this.headerData)return;const{leftCol:i,rightCol:e}=this.headerData,a=M({input:i.logoText,htmlTag:"strong",specifier:":::"}),t=u(a);return r`<a href="${i.logoLink}" class="logo">${t}</a><ul class="icons">${e.map(s=>r`<li><a href="${s.socialLink}" class="icon brands" aria-label="${s.socialLabel}">${d(s.socialIcon,"header-icon")} <span class="label">${s.socialLabel}</span></a></li>`)}</ul>`}};B([D()],b.prototype,"headerData",2);b=B([A("header-component")],b);function f(i){return i.toLowerCase().replace(/[^0-9a-z]/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")}class j{readBlockConfig(e){const a={};return e.querySelectorAll(":scope > div").forEach(t=>{if(t.children){const s=[...t.children];if(s[1]){const n=s[1],o=f(s[0].textContent??"");let c="";if(n.querySelector("a")){const l=[...n.querySelectorAll("a")];l.length===1?c=l[0].href:c=l.map(v=>v.href)}else if(n.querySelector("img")){const l=[...n.querySelectorAll("img")];l.length===1?c=l[0].src:c=l.map(v=>v.src)}else if(n.querySelector("p")){const l=[...n.querySelectorAll("p")];l.length===1?c=l[0].textContent:c=l.map(v=>v.textContent)}else c=t.children[1].textContent;a[o]=c}}}),a}decorateBlocks(e){e.querySelectorAll("div.section > div > div").forEach(this.decorateBlock)}decorateBlock(e){const a=e.classList[0];if(a){e.classList.add("block"),e.dataset.blockName=a;const t=e.parentElement;t==null||t.classList.add(`${a}-wrapper`);const s=e.closest(".section");s&&s.classList.add(`${a}-container`)}}}function N(i){return f(i).replace(/-([a-z])/g,e=>e[1].toUpperCase())}class U{constructor(e){this.blockService=e}init(e){this.transformSection(e)}transformSection(e){e.querySelectorAll(":scope > div").forEach(a=>{this.adjustMarkup(a),this.processSectionMetaData(a)})}processSectionMetaData(e){const a=e.querySelector("div.section-metadata");if(a){const t=this.blockService.readBlockConfig(a);Object.keys(t).forEach(s=>{s==="style"?t.style.split(",").filter(o=>o).map(o=>f(o.trim())).forEach(o=>e.classList.add(o)):e.dataset[N(s)]=t[s]}),a.parentElement&&a.parentElement.remove()}}adjustMarkup(e){const a=[];let t=!1;[...e.children].forEach(s=>{if(s.tagName==="DIV"||!t){const n=document.createElement("div");a.push(n),t=s.tagName!=="DIV",t&&n.classList.add("default-content-wrapper")}a[a.length-1].append(s)}),a.forEach(s=>e.append(s)),this.decorateImages(),e.classList.add("section"),e.dataset.sectionStatus="initialized",e.style.display="none"}decorateImages(){document.querySelectorAll(".default-content-wrapper picture").forEach(a=>{const t=a.parentElement;t&&t.classList.add("image","main")})}}const k=()=>r`<dvag-m-n01-header class="dvag-m-n01-header" vb-file-url="/async-includes/subbar.html"><div class="dvag-m-n01-header__logo-wrapper"><div class="dvag-m-n01-header__logo-mobile"><a href="#" title="Deutsche Vermögensberatung" aria-label="home">${d("dva-icon-header-logo-s")}</a></div><div class="dvag-m-n01-header__logo-desktop"><a href="#" title="Deutsche Vermögensberatung" aria-label="home">${d("dva-icon-header-logo-dvag-xl")}</a></div></div><div class="dvag-m-n01-header__menu-wrapper"><div class="dvag-m-n01-header__header-navigation-wrapper"><ul class="dvag-m-n01-header__header-navigation-list"><li class="dvag-m-n01-header__header-navigation-item"><a class="dvag-m-n01-header__header-navigation-link" href="#" title="Lorem">Lorem</a></li><li class="dvag-m-n01-header__header-navigation-item"><a class="dvag-m-n01-header__header-navigation-link" href="#" title="Ipsum">Ipsum</a></li></ul></div><a class="dvag-m-n01-header__burger-menu" href="#">${d("dva-icon-burger-24px")} <span class="dvag-m-n01-header__burger-label">Menü</span></a></div><div class="dvag-m-n01-header__navigation-wrapper"></div></dvag-m-n01-header>`,H=i=>i.label===void 0?"":r`<span class="dva-e-link__label">${i.label}</span>`,R=i=>i.iconID===void 0?"":r`<dva-e-icon class="dva-e-icon" icon-id="${i.iconID}"></dva-e-icon>`,p=i=>i.shouldRender===!1?"":r`<a class="dva-e-link${i.cssClasses?` ${i.cssClasses}`:""}" href="${i.target}" target="${i.newWindow!==!0?"_self":"_blank"}">${H(i)} ${R(i)}</a>`,O=()=>r`<h5 class="dvag-m-n02-footer__headline">Bestnoten in Beratung, Service und Karriere</h5><div class="dvag-m-n02-footer__awards"><a href="#">${y({src:"https://main--dva-showcase--ifahrentholz.hlx.page/assets/service-rating-footer.svg",cssClasses:"dvag-m-n02-footer__award-image"})} </a><a href="#">${y({src:"https://main--dva-showcase--ifahrentholz.hlx.page/assets/kundenchampions-footer.svg",cssClasses:"dvag-m-n02-footer__award-image"})}</a></div>`,V=[{headline:{label:"Unternehmen",link:"#"},items:[{label:"Über uns",link:"#"},{label:"Geschäftsleitung",link:"#"},{label:"Markenbotschafter",link:"#"},{label:"Struktur & Geschichte",link:"#"},{label:"Unternehmensbericht",link:"#"},{label:"Presseservice",link:"#"},{label:"Standorte",link:"#"},{label:"Gezielte und nachhaltige Hilfe",link:"#"}]},{headline:{label:"Beratung",link:"#"},items:[{label:"Unser Beratungsmodell",link:"#"},{label:"Leistungen für Privatkunden",link:"#"},{label:"Leistungen für Firmenkunden",link:"#"},{label:"Finanztipps",link:"#"},{label:"Produktpartner",link:"#"},{label:"Ansprechpartner finden",link:"#"},{label:"Nachhaltigkeit (EGS)",link:"#"}]},{headline:{label:"Erfahrungen & Bewertungen",link:"#"},items:[{label:"Kundenbewertungen",link:"#"},{label:"Zertifikate & Auszeichnungen",link:"#"}]},{headline:{label:"Karriere",link:"#"},items:[{label:"Karriere als selbstständiger Finanzcoach",link:"#"},{label:"Teamblog",link:"#"},{label:"Karriere in der Unternehmenszentrale",link:"#"}]}],G=[{icon:"dva-icon-instagram-24px"},{icon:"dva-icon-facebook-24px"},{icon:"dva-icon-tiktok-24px"},{icon:"dva-icon-linkedin-24px"},{icon:"dva-icon-xing-24px"},{icon:"dva-icon-youtube-24px"},{icon:"dva-icon-twitter-24px"}],C={navigationSections:V,socialLinks:G},K=()=>r`<h5 class="dvag-m-n02-footer__headline">Finden Sie uns in den sozialen Netzwerken</h5><div class="dvag-m-n02-footer__social-links">${C.socialLinks.map(i=>r`<a href="#" class="dva-e-button dva-e-button--secondary dva-e-button--icon-only dva-e-button--rebrush dvag-m-n02-footer__social-link"><div class="dva-e-button__background"></div>${d(i.icon,"dva-e-button__icon")}</a>`)}</div>`,W=()=>r`<dvag-m-c11-accordion class="dvag-m-c11-accordion dvag-m-n02-footer__navigation" active-on-mq="1-3">${C.navigationSections.map(i=>r`<div class="dvag-m-c11-accordion__block"><button class="dvag-m-c11-accordion__toggle" tabindex="-1">${d("dva-icon-chevron-down-16px","dvag-m-c11-accordion__toggle-icon")} <span class="dvag-m-c11-accordion__toggle-label">${i.headline.label}</span></button><div class="dvag-m-c11-accordion__content"><div class="dvag-m-c11-accordion__content-wrapper"><ul class="dvag-m-n02-footer__list">${i.items.map(e=>r`<li class="dvag-m-n02-footer__list-item">${p({target:e.link,label:e.label})}</li>`)}</ul></div></div></div>`)}</dvag-m-c11-accordion>`,w=(i=!1)=>r`<footer class="dvag-m-n02-footer${i?" dvag-m-n02-footer--border-top":""}"><div class="dva-grid"><div class="dva-grid-row"><div class="dva-grid-col-1-12">${W()}</div></div><div class="dva-grid-row"><div class="dva-grid-col-1-12 dva-grid-col-4-6">${O()}</div><div class="dva-grid-col-1-12 dva-grid-col-4-6">${K()}</div></div></div><div class="dvag-m-n02-footer__skew-area"><div class="dvag-h-skew--in"></div><div class="dvag-m-skewed-box__content"><div class="dva-grid"><div class="dva-grid-row"><div class="dva-grid-col-1-12"><div class="dvag-m-n02-footer__legal-links">${p({target:"#",label:"Datenschutz",cssClasses:"dvag-m-n02-footer__legal-link"})} ${p({target:"#",label:"Impressum",cssClasses:"dvag-m-n02-footer__legal-link"})} ${p({target:"#",label:"Cookies bearbeiten",cssClasses:"dvag-m-n02-footer__legal-link"})}</div><p class="dvag-m-n02-footer__copyright">© 2023 Deutsche Vermögensberatung AG (DVAG)</p></div></div></div></div></div></footer>`;function g(i,e=document){const a=i&&i.includes(":")?"property":"name",s=[...e.head.querySelectorAll(`meta[${a}="${i}"]`)].map(n=>n.content).join(", ");return s.length?s:""}const S=()=>g("breadcrumb")!=="true"?T:r`<div class="dva-grid"><div class="dva-grid-row"><div class="dva-grid-col-1-12"><nav class="dva-m-breadcrump-navigation"><ul class="dva-m-breadcrump-navigation__list"><li class="dva-m-breadcrump-navigation__item"><a href="#" class="dva-m-breadcrump-navigation__link"><span class="dva-m-breadcrump-navigation__label">Startseite</span> </a>${d("dva-icon-chevron-right")}</li><li class="dva-m-breadcrump-navigation__item"><a href="#" class="dva-m-breadcrump-navigation__link"><span class="dva-m-breadcrump-navigation__label">Allfinanzberatung</span> </a>${d("dva-icon-chevron-right")}</li><li class="dva-m-breadcrump-navigation__item"><a href="#" class="dva-m-breadcrump-navigation__link"><span class="dva-m-breadcrump-navigation__label">Firmenkunden</span> </a>${d("dva-icon-chevron-right")}</li></ul></nav></div></div></div>`,P=()=>{const i=document.querySelector("#main");return i?window.location.href==="about:srcdoc"&&i.classList.contains("sidekick-library"):!1},$=(i,e)=>{e.split(",").forEach(a=>{i.classList.add(f(a.trim()))})},J={mainTsPath:"src/main.ts",mainScssPath:"src/styles/index.scss",iconsDirPath:"./public/icons",iconsTypesPath:"./src/icons.types.ts",fontsScssPath:"src/styles/fonts.scss",lazyStylesScssPath:"src/styles/lazy-styles.scss",sidekickLibraryStylesScssPath:"src/styles/sidekick-library-styles.scss"};function L(){return P()?window.parent.location:window.location}const h=class h{};h.unloaded="unloaded",h.loading="loading",h.loaded="loaded",h.error="error";let m=h;class Z{constructor(e,a){this.sectionService=e,this.blockService=a,this.lcpBlocks=["article-stage","article-header","article-overview","vb-stage"],this.init=async()=>{this.setup(),await this.loadEager(),await this.loadLazy()},this.loadEager=async()=>{document.documentElement.lang="en",this.decorateTemplateAndTheme();const t=document.querySelector("main");if(t){this.sectionService.init(t),this.blockService.decorateBlocks(t),this.decorateDefaultContent(t),this.renderLayout(t),setTimeout(()=>{document.body.classList.add("show")},200),await this.waitForLCP();try{(window.innerWidth>=900||sessionStorage.getItem("fonts-loaded"))&&await this.loadFonts()}catch{}}},this.loadLazy=async()=>{const{lazyStylesScssPath:t,sidekickLibraryStylesScssPath:s,fontsScssPath:n}=J;try{t&&await this.loadCSS(`${window.hlx.codeBasePath}/dist/lazyStyles/lazyStyles.css`),s&&P()&&await this.loadCSS(`${window.hlx.codeBasePath}/dist/sidekickLibraryStyles/sidekickLibraryStyles.css`),n&&await this.loadFonts(),await this.loadBlocks()}catch(o){console.error("Load lazy error: ",o);try{await this.loadBlocks()}catch(c){console.error("Load blocks error: ",c)}}},this.loadBlocks=async()=>{const s=[...document.querySelectorAll(".section")].map(n=>this.loadBlock(n));await Promise.all(s)}}setup(){window.hlx=window.hlx||{},window.hlx.RUM_MASK_URL="full",window.hlx.codeBasePath="",window.hlx.lighthouse=new URLSearchParams(L().search).get("lighthouse")==="on";const e=document.querySelector('script[src$="/scripts/scripts.js"]');if(e)try{[window.hlx.codeBasePath]=new URL(e.src).pathname.split("/scripts/scripts.js")}catch(a){console.log(a)}}decorateDefaultContent(e){const a=e.querySelectorAll(".default-content-wrapper");a&&a.forEach(t=>{const s=r`<div class="article-container"><div class="container text"><div class="bleed-m bleed-l"><div class="col-s-12 col-m-10 col-m-1-offset col-l-8 col-l-2-offset">${u(t.innerHTML)}</div></div></div></div>`;t.innerHTML="",_(s,t)})}articleBodyTemplate(e){return r`<div class="page container dva-page"><div role="main" class="dva-page__content-area-wrapper"><article class="article dva-l-article dva-m-article-content">${k()} ${S()}<div class="dva-page__content-area-children-wrapper">${u(e)}</div>${w()}</article></div></div>`}bodyTemplate(e){return r`<div class="page container dva-page"><div role="main" class="dva-page__content-area-wrapper">${k()} ${S()}<div class="dva-page__content-area-children-wrapper">${u(e)}</div>${w()}</div></div>`}renderBodyTemplate(e){return g("template")==="article"&&this.articleBodyTemplate(e),this.bodyTemplate(e)}renderLayout(e){const a=e.innerHTML,t=document.querySelector("header"),s=document.querySelector("footer"),n=e,o=document.querySelector("body");o&&(_(this.renderBodyTemplate(a),o),s==null||s.remove(),t==null||t.remove(),n.remove())}decorateTemplateAndTheme(){const e=g("template");e&&$(document.body,e);const a=g("theme");a&&$(document.body,a)}collectBlocks(e){const a=[];return e.querySelectorAll("[data-block-name]").forEach(s=>{a.push({name:s.dataset.blockName,element:s})}),a}async loadBlockModules(e){if((e.element.dataset.blockStatus??m.unloaded)===m.unloaded){e.element.dataset.blockStatus=m.loading;try{const t=await z(()=>import(`${window.hlx.codeBasePath}/dist/${e.name}/${e.name}.js`),__vite__mapDeps([]));t.default&&await t.default(e.element),e.element.dataset.blockStatus=m.loaded}catch(t){e.element.dataset.blockStatus=m.error,console.error("An error occurred during module import:",t)}}}async loadBlockStyles(e){try{await this.loadCSS(`${window.hlx.codeBasePath}/dist/${e.name}/${e.name}.css`)}catch{console.error(`problem with block '${e.name}' loading styles`)}}showSection(e){e.style.removeProperty("display")}async loadFonts(){await this.loadCSS(`${window.hlx.codeBasePath}/dist/fonts/fonts.css`);try{L().hostname.includes("localhost")||sessionStorage.setItem("fonts-loaded","true")}catch{}}async loadCSS(e){return new Promise((a,t)=>{if(document.querySelector(`head > link[href="${e}"]`))a(!0);else{const s=document.createElement("link");s.rel="stylesheet",s.href=e,s.onload=a,s.onerror=t,document.head.append(s)}})}async waitForLCP(){const e=document.querySelector(".section");if(e){const s=this.collectBlocks(e).map(async n=>{this.lcpBlocks.includes(n.name)&&await Promise.all([this.loadBlockModules(n),this.loadBlockStyles(n)])});await Promise.all(s),this.showSection(e)}document.body.style.display=null;const a=document.querySelector("dva-e-lazy-image");await new Promise(t=>{a&&!a.complete?(a.setAttribute("loading","eager"),a.setAttribute("fetchpriority","high"),a.setAttribute("init","explicit"),a.addEventListener("load",()=>t()),a.addEventListener("error",()=>t())):t()})}async loadBlock(e){const a=this.collectBlocks(e);if(!a.length){this.showSection(e);return}const t=[];for(const s of a)t.push(this.loadBlockModules(s),this.loadBlockStyles(s));await Promise.all(t),this.showSection(e)}}(async function(){const i=new j,e=new U(i);await new Z(e,i).init()})();
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=main.js.map
