{"version":3,"file":"article-teaser-row.js","sources":["../../src/blocks/article-teaser-row/article-teaser-row.ts"],"sourcesContent":["import { renderLazyImage } from \"Components/dva-e-lazy-image/dva-e-lazy-image.template\";\nimport { renderIcon } from \"Components/icon/dva-e-icon.template\";\nimport { html, render } from \"lit\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { renderCssClasses } from \"Utils/renderCssClasses\";\nimport \"./article-teaser-row.scss\";\nimport { cleanUpBlock } from \"Utils/cleanUpBlock\";\n\ninterface ArticleTeaserArgs {\n  cssClasses?: string | \"dva-m-article-teaser--is-first\";\n  image?: HTMLImageElement;\n  linkUrl: string;\n  topline?: string;\n  headline?: string;\n  text?: string;\n  linkLabel?: string;\n}\n\nconst articleTeaserTemplate = ({\n  cssClasses,\n  headline,\n  image,\n  linkLabel,\n  linkUrl,\n  text,\n  topline,\n}: ArticleTeaserArgs) => {\n  return html`\n    <div class=\"col-s-12 col-m-4 col-l-4\">\n      <div class=\"dva-m-teaser dva-m-article-teaser${renderCssClasses(cssClasses)}\">\n        <a\n          href=\"${linkUrl}\"\n          class=\"dva-m-article-teaser__image-link\"\n          aria-label=\"weiter zur versicherungscheck beratung\"\n        >\n          ${renderLazyImage({\n            src: image?.src ?? \"\",\n            alt: image?.alt ?? \"\",\n            cssClasses: \"dva-m-article-teaser__image\",\n            aspectRatio: \"21:9\",\n          })}\n        </a>\n        <div class=\"dva-m-article-teaser__content\">\n          ${ifDefined(topline ? html`<h4 class=\"dva-m-teaser__topline\">${topline}</h4>` : undefined)}\n          ${ifDefined(headline ? html`<h3 class=\"dva-m-teaser__headline\">${headline}</h3>` : undefined)}\n          ${ifDefined(text ? html`<p class=\"dva-m-teaser__text\">${text}</p>` : undefined)}\n          ${ifDefined(\n            linkLabel && linkUrl\n              ? html`\n                  <a href=\"${linkUrl}\" class=\"dva-e-link dva-m-teaser__cta\" target=\"_self\">\n                    <span class=\"dva-e-link__label\">Weiterlesen</span>\n                    ${renderIcon(\"dva-icon-arrow-right\")}\n                  </a>\n                `\n              : undefined,\n          )}\n        </div>\n      </div>\n    </div>\n  `;\n};\n\ninterface ArticleTeaserRowArgs {\n  headline: string;\n  teasers: ArticleTeaserArgs[];\n  ctaLabel: string;\n  ctaUrl: string;\n}\n\nconst articleTeaserRowTemplate = ({ ctaLabel, ctaUrl, headline, teasers }: ArticleTeaserRowArgs) => {\n  return html`\n    <section class=\"section bg-darkgrey \">\n      <div class=\"section-content container\">\n        <div class=\"bleed-m bleed-l\">\n          <header\n            class=\"section-header align-center col-s-12 col-m-10 col-m-1-offset col-m-1-push col-l-10 col-l-1-offset col-l-1-push\"\n          >\n            <h3 class=\"section-headline\">${headline}</h3>\n          </header>\n\n          <div class=\"content-box clear col-s-12 col-m-12 col-l-12\">\n            <div class=\"bar\">\n              <div class=\"text\">\n                <div class=\"col-wrapper\">${teasers.map(teaser => articleTeaserTemplate(teaser))}</div>\n              </div>\n            </div>\n          </div>\n\n          <footer class=\"section-footer clear col-s-12 col-m-12 col-l-12\">\n            <ul class=\"button-list bleed-m bleed-l\">\n              <li class=\"button-list-item col-m-4 col-m-4-offset col-l-4 col-l-4-offset\">\n                <a class=\"dva-e-button dva-e-button--rebrush\" href=\"${ctaUrl}\">\n                  <div class=\"dva-e-button__background\"></div>\n                  <span class=\"dva-e-button__label\">${ctaLabel}</span>\n                </a>\n              </li>\n            </ul>\n          </footer>\n        </div>\n      </div>\n    </section>\n  `;\n};\n\nexport default function (block: HTMLElement) {\n  const headline = block.children[0].textContent || \"\";\n  const teasers = [...block.children[1].children].map((teaser, index) => {\n    const teaserImage = teaser.querySelector(\"img\") ?? undefined;\n    const teaserTopline = block.children[2].children[index].textContent || \"\";\n    const teaserHeadline = block.children[3].children[index].textContent || \"\";\n    const teaserText = block.children[4].children[index].textContent || \"\";\n    const teaserLink = block.children[5].children[index].querySelector(\"a\");\n    const teaserLinkUrl = teaserLink?.getAttribute(\"href\") || \"\";\n    const teaserLinkLabel = teaserLink?.textContent || \"\";\n\n    return {\n      linkUrl: teaserLinkUrl,\n      image: teaserImage,\n      topline: teaserTopline,\n      headline: teaserHeadline,\n      text: teaserText,\n      linkLabel: teaserLinkLabel,\n    };\n  });\n\n  const cta = block.children[6].querySelector(\"a\");\n  const ctaUrl = cta?.getAttribute(\"href\") || \"\";\n  const ctaLabel = cta?.textContent || \"\";\n\n  cleanUpBlock(block);\n\n  render(\n    articleTeaserRowTemplate({\n      headline,\n      teasers,\n      ctaLabel,\n      ctaUrl,\n    }),\n    block,\n  );\n}\n"],"names":["articleTeaserTemplate","cssClasses","headline","image","linkLabel","linkUrl","text","topline","html","renderCssClasses","renderLazyImage","ifDefined","renderIcon","articleTeaserRowTemplate","ctaLabel","ctaUrl","teasers","teaser","articleTeaserRow","block","index","teaserImage","teaserTopline","teaserHeadline","teaserText","teaserLink","teaserLinkUrl","teaserLinkLabel","cta","cleanUpBlock","render"],"mappings":"mXAkBA,MAAMA,EAAwB,CAAC,CAC7B,WAAAC,EACA,SAAAC,EACA,MAAAC,EACA,UAAAC,EACA,QAAAC,EACA,KAAAC,EACA,QAAAC,CACF,IACSC,uFAE4CC,EAAiBR,CAAU,CAAC,cAE/DI,CAAO,kGAIbK,EAAgB,CAChB,KAAKP,GAAA,YAAAA,EAAO,MAAO,GACnB,KAAKA,GAAA,YAAAA,EAAO,MAAO,GACnB,WAAY,8BACZ,YAAa,MAAA,CACd,CAAC,kDAGAQ,EAAUJ,EAAUC,sCAAyCD,CAAO,QAAU,MAAS,CAAC,IACxFI,EAAUT,EAAWM,uCAA0CN,CAAQ,QAAU,MAAS,CAAC,IAC3FS,EAAUL,EAAOE,kCAAqCF,CAAI,OAAS,MAAS,CAAC,IAC7EK,EACAP,GAAaC,EACTG,aACaH,CAAO,4GAEdO,EAAW,sBAAsB,CAAC,OAGxC,MACL,CAAA,qBAcLC,EAA2B,CAAC,CAAE,SAAAC,EAAU,OAAAC,EAAQ,SAAAb,EAAU,QAAAc,KACvDR,yQAOkCN,CAAQ,uIAMRc,EAAQ,IAAIC,GAAUjB,EAAsBiB,CAAM,CAAC,CAAC,kQAQzBF,CAAM,mFAEtBD,CAAQ,uDAW9D,SAAAI,EAAyBC,EAAoB,CAC3C,MAAMjB,EAAWiB,EAAM,SAAS,CAAC,EAAE,aAAe,GAC5CH,EAAU,CAAC,GAAGG,EAAM,SAAS,CAAC,EAAE,QAAQ,EAAE,IAAI,CAACF,EAAQG,IAAU,CACrE,MAAMC,EAAcJ,EAAO,cAAc,KAAK,GAAK,OAC7CK,EAAgBH,EAAM,SAAS,CAAC,EAAE,SAASC,CAAK,EAAE,aAAe,GACjEG,EAAiBJ,EAAM,SAAS,CAAC,EAAE,SAASC,CAAK,EAAE,aAAe,GAClEI,EAAaL,EAAM,SAAS,CAAC,EAAE,SAASC,CAAK,EAAE,aAAe,GAC9DK,EAAaN,EAAM,SAAS,CAAC,EAAE,SAASC,CAAK,EAAE,cAAc,GAAG,EAChEM,GAAgBD,GAAA,YAAAA,EAAY,aAAa,UAAW,GACpDE,GAAkBF,GAAA,YAAAA,EAAY,cAAe,GAE5C,MAAA,CACL,QAASC,EACT,MAAOL,EACP,QAASC,EACT,SAAUC,EACV,KAAMC,EACN,UAAWG,CAAA,CACb,CACD,EAEKC,EAAMT,EAAM,SAAS,CAAC,EAAE,cAAc,GAAG,EACzCJ,GAASa,GAAA,YAAAA,EAAK,aAAa,UAAW,GACtCd,GAAWc,GAAA,YAAAA,EAAK,cAAe,GAErCC,EAAaV,CAAK,EAElBW,EACEjB,EAAyB,CACvB,SAAAX,EACA,QAAAc,EACA,SAAAF,EACA,OAAAC,CAAA,CACD,EACDI,CAAA,CAEJ"}