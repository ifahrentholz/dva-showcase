{"version":3,"file":"article-teaser-row.js","sources":["../../src/blocks/article-teaser-row/article-teaser-row.ts"],"sourcesContent":["import { renderLazyImage } from 'Components/dva-e-lazy-image/dva-e-lazy-image.template';\nimport { renderIcon } from 'Components/icon/dva-e-icon.template';\nimport { html, render } from 'lit';\nimport { ifDefined } from 'lit/directives/if-defined.js';\nimport { renderCssClasses } from 'Utils/renderCssClasses';\nimport './article-teaser-row.scss';\nimport { cleanUpBlock } from 'Utils/cleanUpBlock';\n\ninterface ArticleTeaserArgs {\n  cssClasses?: string | 'dva-m-article-teaser--is-first';\n  linkUrl: string;\n  imageSrc: string;\n  topline?: string;\n  headline?: string;\n  text?: string;\n  linkLabel?: string;\n}\n\nconst articleTeaserTemplate = (args: ArticleTeaserArgs) => {\n  return html`\n    <div class=\"col-s-12 col-m-4 col-l-4\">\n      <div class=\"dva-m-teaser dva-m-article-teaser${renderCssClasses(args.cssClasses)}\">\n        <a href=\"${args.linkUrl}\" class=\"dva-m-article-teaser__image-link\">\n          ${renderLazyImage({\n            src: args.imageSrc,\n            alt: 'header-finanz-und-versicherungscheck-beratung-frauen.jpg',\n            cssClasses: 'dva-m-article-teaser__image',\n            aspectRatio: '21:9',\n          })}\n        </a>\n        <div class=\"dva-m-article-teaser__content\">\n          ${ifDefined(args.topline ? html`<h4 class=\"dva-m-teaser__topline\">${args.topline}</h4>` : undefined)}\n          ${ifDefined(args.headline ? html`<h3 class=\"dva-m-teaser__headline\">${args.headline}</h3>` : undefined)}\n          ${ifDefined(args.text ? html`<p class=\"dva-m-teaser__text\">${args.text}</p>` : undefined)}\n          ${ifDefined(\n            args.linkLabel && args.linkUrl\n              ? html`\n                  <a href=\"${args.linkUrl}\" class=\"dva-e-link dva-m-teaser__cta\" target=\"_self\">\n                    <span class=\"dva-e-link__label\">Weiterlesen</span>\n                    ${renderIcon('dva-icon-arrow-right')}\n                  </a>\n                `\n              : undefined\n          )}\n        </div>\n      </div>\n    </div>\n  `;\n};\n\ninterface ArticleTeaserRowArgs {\n  headline: string;\n  teasers: ArticleTeaserArgs[];\n  ctaLabel: string;\n  ctaUrl: string;\n}\n\nconst articleTeaserRowTemplate = (args: ArticleTeaserRowArgs) => {\n  return html`\n    <section class=\"section bg-darkgrey \">\n      <div class=\"section-content container\">\n        <div class=\"bleed-m bleed-l\">\n          <header\n            class=\"section-header align-center col-s-12 col-m-10 col-m-1-offset col-m-1-push col-l-10 col-l-1-offset col-l-1-push\"\n          >\n            <h3 class=\"section-headline\">${args.headline}</h3>\n          </header>\n\n          <div class=\"content-box clear col-s-12 col-m-12 col-l-12\">\n            <div class=\"bar\">\n              <div class=\"text\">\n                <div class=\"col-wrapper\">${args.teasers.map((teaser) => articleTeaserTemplate(teaser))}</div>\n              </div>\n            </div>\n          </div>\n\n          <footer class=\"section-footer clear col-s-12 col-m-12 col-l-12\">\n            <ul class=\"button-list bleed-m bleed-l\">\n              <li class=\"button-list-item col-m-4 col-m-4-offset col-l-4 col-l-4-offset\">\n                <a class=\"dva-e-button dva-e-button--rebrush\" href=\"${args.ctaUrl}\">\n                  <div class=\"dva-e-button__background\"></div>\n                  <span class=\"dva-e-button__label\">${args.ctaLabel}</span>\n                </a>\n              </li>\n            </ul>\n          </footer>\n        </div>\n      </div>\n    </section>\n  `;\n};\n\nexport default function (block: HTMLElement) {\n  const headline = block.children[0].textContent || '';\n  const teasers = [...block.children[1].children].map((teaser, index) => {\n    const teaserImage = teaser.querySelector('img');\n    const teaserTopline = block.children[2].children[index].textContent || '';\n    const teaserHeadline = block.children[3].children[index].textContent || '';\n    const teaserText = block.children[4].children[index].textContent || '';\n    const teaserLink = block.children[5].children[index].querySelector('a');\n    const teaserLinkUrl = teaserLink?.getAttribute('href') || '';\n    const teaserLinkLabel = teaserLink?.textContent || '';\n\n    return {\n      linkUrl: teaserLinkUrl,\n      imageSrc: teaserImage?.getAttribute('src') || '',\n      topline: teaserTopline,\n      headline: teaserHeadline,\n      text: teaserText,\n      linkLabel: teaserLinkLabel,\n    };\n  });\n\n  const cta = block.children[6].querySelector('a');\n  const ctaUrl = cta?.getAttribute('href') || '';\n  const ctaLabel = cta?.textContent || '';\n\n  cleanUpBlock(block);\n\n  render(\n    articleTeaserRowTemplate({\n      headline,\n      teasers,\n      ctaLabel,\n      ctaUrl,\n    }),\n    block\n  );\n}\n"],"names":["articleTeaserTemplate","args","html","renderCssClasses","renderLazyImage","ifDefined","renderIcon","articleTeaserRowTemplate","teaser","articleTeaserRow","block","headline","teasers","index","teaserImage","teaserTopline","teaserHeadline","teaserText","teaserLink","teaserLinkUrl","teaserLinkLabel","cta","ctaUrl","ctaLabel","cleanUpBlock","render"],"mappings":"sUAkBA,MAAMA,EAAyBC,GACtBC,uFAE4CC,EAAiBF,EAAK,UAAU,CAAC,cACnEA,EAAK,OAAO,8CACnBG,EAAgB,CAChB,IAAKH,EAAK,SACV,IAAK,2DACL,WAAY,8BACZ,YAAa,MAAA,CACd,CAAC,kDAGAI,EAAUJ,EAAK,QAAUC,sCAAyCD,EAAK,OAAO,QAAU,MAAS,CAAC,IAClGI,EAAUJ,EAAK,SAAWC,uCAA0CD,EAAK,QAAQ,QAAU,MAAS,CAAC,IACrGI,EAAUJ,EAAK,KAAOC,kCAAqCD,EAAK,IAAI,OAAS,MAAS,CAAC,IACvFI,EACAJ,EAAK,WAAaA,EAAK,QACnBC,aACaD,EAAK,OAAO,4GAEnBK,EAAW,sBAAsB,CAAC,OAGxC,MACL,CAAA,qBAcLC,EAA4BN,GACzBC,yQAOkCD,EAAK,QAAQ,uIAMbA,EAAK,QAAQ,IAAKO,GAAWR,EAAsBQ,CAAM,CAAC,CAAC,kQAQhCP,EAAK,MAAM,mFAE3BA,EAAK,QAAQ,uDAWnE,SAAAQ,EAAyBC,EAAoB,CAC3C,MAAMC,EAAWD,EAAM,SAAS,CAAC,EAAE,aAAe,GAC5CE,EAAU,CAAC,GAAGF,EAAM,SAAS,CAAC,EAAE,QAAQ,EAAE,IAAI,CAACF,EAAQK,IAAU,CAC/D,MAAAC,EAAcN,EAAO,cAAc,KAAK,EACxCO,EAAgBL,EAAM,SAAS,CAAC,EAAE,SAASG,CAAK,EAAE,aAAe,GACjEG,EAAiBN,EAAM,SAAS,CAAC,EAAE,SAASG,CAAK,EAAE,aAAe,GAClEI,EAAaP,EAAM,SAAS,CAAC,EAAE,SAASG,CAAK,EAAE,aAAe,GAC9DK,EAAaR,EAAM,SAAS,CAAC,EAAE,SAASG,CAAK,EAAE,cAAc,GAAG,EAChEM,GAAgBD,GAAA,YAAAA,EAAY,aAAa,UAAW,GACpDE,GAAkBF,GAAA,YAAAA,EAAY,cAAe,GAE5C,MAAA,CACL,QAASC,EACT,UAAUL,GAAA,YAAAA,EAAa,aAAa,SAAU,GAC9C,QAASC,EACT,SAAUC,EACV,KAAMC,EACN,UAAWG,CAAA,CACb,CACD,EAEKC,EAAMX,EAAM,SAAS,CAAC,EAAE,cAAc,GAAG,EACzCY,GAASD,GAAA,YAAAA,EAAK,aAAa,UAAW,GACtCE,GAAWF,GAAA,YAAAA,EAAK,cAAe,GAErCG,EAAad,CAAK,EAElBe,EACElB,EAAyB,CACvB,SAAAI,EACA,QAAAC,EACA,SAAAW,EACA,OAAAD,CAAA,CACD,EACDZ,CAAA,CAEJ"}